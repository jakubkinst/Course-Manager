%% LyX 2.0.2 created this file.  For more info, see http://www.lyx.org/.
%% Do not edit unless you really know what you are doing.
\documentclass[12pt,a4paper,slovak,czech,notitlepage]{report}
\usepackage{lmodern}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\usepackage{color}
\usepackage{babel}
\usepackage{varioref}
\usepackage{rotfloat}
\usepackage{textcomp}
\usepackage{url}
\usepackage{graphicx}
\usepackage{nomencl}
% the following is useful when we have the old nomencl.sty package
\providecommand{\printnomenclature}{\printglossary}
\providecommand{\makenomenclature}{\makeglossary}
\makenomenclature
\usepackage[unicode=true,
 bookmarks=true,bookmarksnumbered=false,bookmarksopen=true,bookmarksopenlevel=1,
 breaklinks=false,pdfborder={0 0 0},backref=false,colorlinks=true]
 {hyperref}
\hypersetup{pdftitle={BakalÃ¡Å™skÃ¡ prÃ¡ce},
 pdfauthor={Jakub KinÅ¡t},
 pdfsubject={SystÃ©m pro podporu vÃ½uky}}
\usepackage{breakurl}

\makeatletter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% LyX specific LaTeX commands.
\special{papersize=\the\paperwidth,\the\paperheight}

%% A simple dot to overcome graphicx limitations
\newcommand{\lyxdot}{.}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{a4wide}
\usepackage[left=4cm]{geometry}

\renewcommand\nomname{Seznam pouÅ¾itÃ½ch zkratek}

\makeatother

\begin{document}
\pagestyle{empty}

\selectlanguage{slovak}%
\begin{center}
\vspace{15mm}

\par\end{center}

\begin{center}
{\large Univerzita Karlova v Praze}\\
{\large Matematicko-fyzikÃ¡lnÃ­ fakulta\vspace{5mm}
}
\par\end{center}{\large \par}

\begin{center}
\textbf{\Large BAKALÃÅ˜SKÃ PRÃCE\vspace{10mm}
}
\par\end{center}{\Large \par}

\begin{center}
\includegraphics[scale=0.3]{logo}
\par\end{center}

\selectlanguage{czech}%
\begin{center}
{\Large \vspace{15mm}
Jakub KinÅ¡t \vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\Large SystÃ©m pro podporu vÃ½uky\vspace{5mm}
}
\par\end{center}{\Large \par}

\begin{center}
\textbf{\large Ãšstav formÃ¡lnÃ­ a aplikovanÃ© lingvistiky, MFF UK\vspace{15mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large VedoucÃ­ bakalÃ¡Å™skÃ© prÃ¡ce: Mgr. Miroslav TÃ½novskÃ½ \vspace{2mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large StudijnÃ­ program: Informatika\vspace{2mm}
}
\par\end{center}{\large \par}

\noindent \begin{center}
{\large StudijnÃ­ obor: ObecnÃ¡ Informatika\vspace{20mm}
}
\par\end{center}{\large \par}

\begin{center}
{\large Praha 2012}
\par\end{center}{\large \par}

\noindent \newpage{}TODO: Zde bude podÄ›kovÃ¡nÃ­

\noindent \newpage{}\vspace*{\fill}
\noindent

\noindent ProhlaÅ¡uji, Å¾e jsem tuto bakalÃ¡Å™skou prÃ¡ci vypracoval samostatnÄ›
a vÃ½hradnÄ› s pouÅ¾itÃ­m citovanÃ½ch pramenÅ¯, literatury a dalÅ¡Ã­ch odbornÃ½ch
zdrojÅ¯. 

\vspace{10mm}


\noindent \noindent

\noindent Beru na vÄ›domÃ­, Å¾e se na moji prÃ¡ci vztahujÃ­ prÃ¡va a povinnosti
vyplÃ½vajÃ­cÃ­ ze zÃ¡kona Ä. 121/2000 Sb., autorskÃ©ho zÃ¡kona v platnÃ©m
znÄ›nÃ­, zejmÃ©na skuteÄnost, Å¾e Univerzita Karlova v Praze mÃ¡ prÃ¡vo
na uzavÅ™enÃ­ licenÄnÃ­ smlouvy o uÅ¾itÃ­ tÃ©to prÃ¡ce jako Å¡kolnÃ­ho dÃ­la
podle Â§ 60 odst. 1 autorskÃ©ho zÃ¡kona.\bigskip{}


\noindent V Praze dne \hfill{}podpis

\newpage{}

\noindent \noindent

\noindent NÃ¡zev prÃ¡ce: SystÃ©m pro podporu vÃ½uky\\
Autor: Jakub KinÅ¡t\\
Katedra (Ãºstav): Ãšstav formÃ¡lnÃ­ a aplikovanÃ© lingvistiky\\
VedoucÃ­ bakalÃ¡Å™skÃ© prÃ¡ce: Mgr. Miroslav TÃ½novskÃ½ \\
e-mail vedoucÃ­ho: tynovsky@ufal.mff.cuni.cz\\


\noindent Abstrakt: V pÅ™edloÅ¾enÃ© prÃ¡ci je implementovÃ¡na webovÃ¡ sluÅ¾ba
usnadÅˆujÃ­cÃ­ prÃ¡ci lektorÅ¯m i studentÅ¯m libovolnÃ©ho prezenÄnÃ­ho kurzu.
UmoÅ¾nÃ­ jednoduchou, ale ÃºÄinnou komunikaci mezi lektorem a studenty
i mezi studenty navzÃ¡jem pomocÃ­ komentÃ¡Å™Å¯, soukromÃ½ch zprÃ¡v, nebo
diskuznÃ­ho fÃ³ra. Poskytne moÅ¾nost publikovat prÅ¯bÄ›Å¾nÃ© vÃ½sledky studentÅ¯,
umoÅ¾nÃ­ studenty vyzkouÅ¡et z probranÃ© lÃ¡tky pomocÃ­ online testÅ¯, oznÃ¡mit
studentÅ¯m jakÃ©koliv blÃ­Å¾Ã­cÃ­ se termÃ­ny a dalÅ¡Ã­. SouÄÃ¡stÃ­ prÃ¡ce je
i implementace nativnÃ­ aplikace pro platformu Google Android, kterÃ¡
zpÅ™Ã­stupnÃ­ vÄ›tÅ¡inu funkcÃ­ sluÅ¾by z pohodlÃ­ mobilnÃ­ho zaÅ™Ã­zenÃ­. RozhranÃ­
pro propojenÃ­ s mobilnÃ­ aplikacÃ­ je oddÄ›lenÃ© a univerzÃ¡lnÄ› pouÅ¾itelnÃ©
pro jiÅ¾ existujÃ­cÃ­ webovou aplikaci. Prakticky bez zÃ¡sahu do stÃ¡vajÃ­cÃ­ho
zdrojovÃ©ho kÃ³du lze aplikaci propojit s klientem v mobilnÃ­m zaÅ™Ã­zenÃ­
bÄ›hem nÄ›kolika mÃ¡lo minut.\\


\noindent KlÃ­ÄovÃ¡ slova: XXX

\vspace{10mm}


\noindent \noindent

\noindent Title: Learning management system\\
Author: Jakub KinÅ¡t\\
Department: Institute of Formal and Applied Linguistics\\
Supervisor: Mgr. Miroslav TÃ½novskÃ½

\noindent Supervisor's e-mail address: tynovsky@ufal.mff.cuni.cz\\


\noindent Abstract: Presented thesis implements web service helping
lectors and students of an arbitrary full-time course. It provides
simple, but effective communication between lector and students or
between students each other via comments, private message system,
or via forum. It offers possibility to publish student's results,
to test students via online assignments and to provide information
about arbitrary upcoming events. The thesis includes implementation
of native application for Google Android platform bringing most of
the features directly to user's mobile device. The interface between
the web application and the mobile application is developed separately
and it is universally applicable to an existing web application implementation.
Thanks to this interface, it is possible to connect to a mobile application
in matter of minutes and practically without affecting any of the
existing source code.\\


\noindent Keywords: XXX \newpage{}

\pagestyle{headings}\setcounter{page}{1}\tableofcontents{}

\newpage{}


\chapter{Ãšvod}


\section{Motivace}

ProfesoÅ™i, uÄitelÃ©, cviÄÃ­cÃ­ a lektoÅ™i kurzÅ¯ se Äasto potÃ½kajÃ­ s problÃ©mem,
jak svÃ© studenty spolehlivÄ› informovat o prÅ¯bÄ›hu vÃ½uky, jak jim poskytnout
studijnÃ­ materiÃ¡l a jinÃ© doplÅˆujÃ­cÃ­ informace. RÃ¡di by takÃ© Äas od
Äasu studenty rychle a hlavnÄ› jednoduÅ¡e vyzkouÅ¡eli z probranÃ© lÃ¡tky.
Studenti chtÄ›jÃ­ mÃ­t k dispozici zpÅ¯sob, jakÃ½m mohou lektorovi nebo
samotnÃ©mu uÄiteli poloÅ¾it otÃ¡zku a pÅ™Ã­padnÄ› na danÃ© tÃ©ma diskutovat.
ChtÄ›jÃ­ takÃ© dostÃ¡vat aktuÃ¡lnÃ­ informace o blÃ­Å¾Ã­cÃ­ch se termÃ­nech nebo
testech.

Å˜eÅ¡enÃ­m je pro nÄ›kterÃ© lektory rozesÃ­lÃ¡nÃ­ aktuÃ¡lnÃ­ch informacÃ­ pomocÃ­
hromadnÃ½ch e-mailÅ¯, kterÃ© jsou nepraktickÃ© a v poÅ¡tovnÃ­ schrÃ¡nce rychle
upadnou v zapomnÄ›nÃ­. Pokud vznese student dotaz, dostane se odpovÄ›di
jen jemu a ostatnÃ­ se o nÃ­ vÄ›tÅ¡inou vÅ¯bec nedozvÄ›dÃ­.

IniciativnÄ›jÅ¡Ã­ lektoÅ™i s nemalou trochou ÃºsilÃ­ vytvoÅ™Ã­ jednoduchÃ½
web, kterÃ½ se snaÅ¾Ã­ pravidelnÄ› aktualizovat a pÅ™idÃ¡vat novinky. ÄŒasto
ale stejnÄ› chybÃ­ moÅ¾nost diskuze, nahrÃ¡vÃ¡nÃ­ materiÃ¡lÅ¯, sprÃ¡va udÃ¡lostÃ­
a online vypracovÃ¡nÃ­ testÅ¯ a ÃºkolÅ¯. PÅ™estoÅ¾e lze nÄ›kterÃ© z tÄ›chto
vlastnostÃ­ nahradit externÃ­mi webovÃ½mi sluÅ¾bami, bylo by dobrÃ© mÃ­t
po ruce komplexnÃ­ a zÃ¡roveÅˆ uÅ¾ivatelsky jednoduchÃ© Å™eÅ¡enÃ­, kterÃ© vÅ¡echny
zmÃ­nÄ›nÃ© problÃ©my vyÅ™eÅ¡Ã­.

ZÃ¡roveÅˆ, v dobÄ› chytrÃ½ch mobilnÃ­ch telefonÅ¯ a pohodlnosti mobilnÃ­ho
internetu, by se hodilo, aby mÄ›l uÅ¾ivatel veÅ¡kerÃ½ obsah na dosah i
ve svÃ©m mobilnÃ­m telefonu (nebo v jinÃ©m mobilnÃ­m zaÅ™Ã­zenÃ­), a mohl
si tak ÄÃ­st aktuality na cestÃ¡ch nebo vyplÅˆovat test po cestÄ› do Å¡koly
ve vlaku.

VÃ½sledkem prÃ¡ce je implementace kompletnÃ­ho univerzÃ¡lnÃ­ho Å™eÅ¡enÃ­ webovÃ©
sluÅ¾by zajiÅ¡Å¥ujÃ­cÃ­ podporu pro standardnÃ­ prezenÄnÃ­ vÃ½uku. SluÅ¾ba
ulehÄÃ­ prÃ¡ci jak lektorÅ¯m, tak i studentÅ¯m libovolnÃ©ho kurzu. UmoÅ¾nÃ­
lektorovi jednoduÅ¡e kontaktovat vÅ¡echny studenty, informovat je o
prÅ¯bÄ›hu a obsahu jednotlivÃ½ch lekcÃ­/pÅ™ednÃ¡Å¡ek/cviÄenÃ­, oznÃ¡mit dosavadnÃ­
vÃ½sledky studentÅ¯m, poskytnout jim libovolnÃ© elektronickÃ© uÄebnÃ­ materiÃ¡ly
ke staÅ¾enÃ­, zadat jim elektronickÃ½ test nebo Ãºkol s rÅ¯znÃ½mi typy otÃ¡zek
a informovat je o nadchÃ¡zejÃ­cÃ­ch udÃ¡lostech Äi termÃ­nech. Studenti
mohou diskutovat pod jednotlivÃ½mi lekcemi/pÅ™ednÃ¡Å¡kami/cviÄenÃ­mi, diskutovat
v diskuznÃ­m fÃ³ru na jakÃ©koliv relevantnÃ­ tÃ©ma jak s ostatnÃ­mi studenty,
tak i se samotnÃ½m lektorem/lektory a mohou si mezi sebou posÃ­lat soukromÃ©
zprÃ¡vy.

VÄ›tÅ¡inu z tÄ›chto aktivit je takÃ© moÅ¾nÃ© provozovat skrze nativnÃ­ aplikaci
pro mobilnÃ­ platformu Google Android\cite{android} z pohodlÃ­ mobilnÃ­ho
telefonu nebo jinÃ©ho mobilnÃ­ho zaÅ™Ã­zenÃ­ (z tabletu, pÅ™ehrÃ¡vaÄe apod.).

SouÄÃ¡stÃ­ prÃ¡ce je takÃ© samostatnÃ¡ implementace univerzÃ¡lnÃ­ho Å™eÅ¡enÃ­
propojenÃ­ webovÃ© aplikace (postavenÃ© na Nette Frameworku\cite{nette})
s mobilnÃ­ aplikacÃ­ pro platformu Google Android.

VÃ½hodou je nezÃ¡vislost na konkrÃ©tnÃ­ vzdÄ›lÃ¡vacÃ­ instituci (Å¡kola, univerzita,
apod.) a takÃ© to, Å¾e aplikace bude nabÃ­zena jako sluÅ¾ba (ne software),
tudÃ­Å¾ se uÅ¾ivatel vyhne jakÃ©koliv instalaci, sloÅ¾itÃ© konfiguraci a
nÃ¡roÄnÃ©mu provozu a sprÃ¡vÄ› vÃ½ukovÃ©ho systÃ©mu. V pÅ™Ã­padÄ› rozÅ¡Ã­Å™enÃ­
aplikace mÃ¡ navÃ­c jak student, tak i lektor vÅ¡echny studovanÃ© (resp.
vyuÄovanÃ©) kurzy k dispozici pohromadÄ›, na jednom mÃ­stÄ› a stejnÄ› (pÅ™imÄ›Å™enÄ›)
jednoduÅ¡e ovladatelnÃ©.


\section{Struktura prÃ¡ce}

TODO: zkontrolovat nakonec cislovani kapitol

V nÃ¡sledujÃ­cÃ­ kapitole (Kapitola 2) jsou shrnuty dosavadnÃ­ existujÃ­cÃ­
implementace podobnÃ©ho, nebo stejnÃ©ho typu aplikace, jejich klady
a zÃ¡pory. Ve tÅ™etÃ­ kapitole je popsÃ¡na architektura objektovÃ©ho programovÃ¡nÃ­
MVC\nomenclature{MVC}{Model-View-Controller} (Model-View-Controller),
kterou se implementovanÃ¡ aplikace Å™Ã­dÃ­. Ve ÄtvrtÃ© kapitole je teoreticky
rozebrÃ¡na problematika propojenÃ­ webovÃ© aplikace s aplikacÃ­ pro mobilnÃ­
zaÅ™Ã­zenÃ­, zejmÃ©na takzvanÃ© ,,otevÅ™enÃ­ API%
\footnote{Application Programming Interface%
}\nomenclature{API}{Application Programming Interface}'' webovÃ© aplikace.
V dalÅ¡Ã­ ÄÃ¡sti jsou popsÃ¡ny a vysvÄ›tleny zajÃ­mavÃ© technologie a frameworky,
kterÃ© byly pÅ™i implementaci pouÅ¾ity. NÃ¡slednÄ› jsou vysvÄ›tleny postupy
pÅ™i implementaci prÃ¡ce - nejdÅ™Ã­ve webovÃ© aplikace, potom propojenÃ­
s mobilnÃ­ aplikacÃ­ a nakonec samotnÃ© mobilnÃ­ aplikace pro platformu
Android. V desÃ¡tÃ© kapitole je sepsanÃ¡ uÅ¾ivatelskÃ¡ dokumentace k aplikaci,
minimÃ¡lnÃ­ poÅ¾adavky a pokyny k instalaci. Na konci prÃ¡ce je k dispozici
seznam pÅ™Ã­loh a vysvÄ›tleny vÅ¡echny pouÅ¾itÃ© zkratky.


\chapter{ExistujÃ­cÃ­ implementace}

ImplementovanÃ¡ aplikace z velkÃ© ÄÃ¡sti spadÃ¡ do skupiny systÃ©mÅ¯ pro
sprÃ¡vu vÃ½uky (\emph{LMS}%
\footnote{\emph{Learning Management System}%
}\nomenclature{LMS}{Learning Management System}). PÅ™i vÃ½bÄ›ru systÃ©mu
nenÃ­ k dispozici pÅ™Ã­liÅ¡ mnoho moÅ¾nostÃ­. Existuje nÄ›kolik komerÄnÃ­ch
Å™eÅ¡enÃ­ kompletnÃ­ sprÃ¡vy vÃ½uky vÄetnÄ› e-learningu (vÃ½uka na dÃ¡lku),
kterÃ© mohou bÃ½t ,,uÅ¡ity'' na mÃ­ru klientovi a dÃ¡le nÄ›kolik otevÅ™enÃ½ch
(open-source) Å™eÅ¡enÃ­, do kterÃ½ch je ze strany uÅ¾ivatele potÅ™eba vloÅ¾it
nemalÃ© ÃºsilÃ­ (aÅ¥ uÅ¾ do instalace, do Ãºprav podle vlastnÃ­ch potÅ™eb,
nebo samotnÃ©ho provozovÃ¡nÃ­ aplikace).


\section{Moodle}

Moodle\cite{moodle} (Modular Object-Oriented Dynamic Learning Environment)\emph{
}je jedno z open-source webovÃ½ch Å™eÅ¡enÃ­ systÃ©mu pro sprÃ¡vu vÃ½uky.
Jako vÄ›tÅ¡ina Å™eÅ¡enÃ­ LMS se Moodle zamÄ›Å™uje pÅ™evÃ¡Å¾nÄ› na podporu Äi
kompletnÃ­ Å™eÅ¡enÃ­ dÃ¡lkovÃ© vÃ½uky (e-learning). PÅ™esto ho mnoho uÅ¾ivatelÅ¯
vyuÅ¾Ã­vÃ¡ i k podpoÅ™e klasickÃ© prezenÄnÃ­ vÃ½uky. Moodle je nabÃ­zen jako
open-source software (ne jako sluÅ¾ba) - to znamenÃ¡, Å¾e je tÅ™eba jej
odbornÄ› nainstalovat na vlastnÃ­ server, nakonfigurovat podle vlastnÃ­ch
potÅ™eb a hlavnÄ› provozovat, protoÅ¾e mnoho operacÃ­ je zÃ¡vislÃ½ch na
existenci stÃ¡lÃ©ho administrÃ¡tora. VÃ½hodou je relativnÄ› jednoduchÃ¡
rozÅ¡iÅ™itelnost. Se znalostÃ­ programovÃ¡nÃ­ v PHP%
\footnote{Hypertext Preprocessor%
}\nomenclature{PHP}{Hypertext Preprocessor}\cite{php} lze systÃ©m
rozÅ¡Ã­Å™it o dalÅ¡Ã­ moduly, kterÃ© mohou implementovat konkrÃ©tnÃ­ poÅ¾adavky
,,uÅ¡itÃ©'' na mÃ­ru. Tento systÃ©m pouÅ¾Ã­vÃ¡ mnoho svÄ›tovÃ½ch univerzit,
Å¡kol a jinÃ½ch vÃ½ukovÃ½ch institucÃ­. JelikoÅ¾ si provoz musÃ­ Å™eÅ¡it kaÅ¾dÃ¡
instituce sama, neexistuje Å¾Ã¡dnÃ© univerzÃ¡lnÃ­ mÃ­sto, kde by mÄ›l uÅ¾ivatel
dostupnÃ© kurzy nezÃ¡visle na Å¡kole, nebo univerzitÄ›. NevÃ½hody tkvÃ­
v nÃ¡roÄnosti na provoz a ÃºdrÅ¾bu aplikace a dÃ¡le nepÅ™Ã­liÅ¡ intuitivnÃ­
a mÃ­sty sloÅ¾itÃ© ovlÃ¡dÃ¡nÃ­ aplikace. RozhranÃ­ se podobÃ¡ (i ze strany
studenta) spÃ­Å¡e sloÅ¾itÃ©mu informaÄnÃ­mu systÃ©mu a typickÃ¡ podstrÃ¡nka
obsahuje nadmÃ­ru moÅ¾nostÃ­ a uÅ¾ivatelskÃ½ch voleb. PotÃ­Å¾e nastÃ¡vajÃ­,
pokud uÅ¾ivatel potÅ™ebuje zaloÅ¾it kurz netÃ½kajÃ­cÃ­ se konkrÃ©tnÃ­ instituce.
Pokud si sÃ¡m nezprovoznÃ­ vlastnÃ­ instanci systÃ©mu, nezbÃ½vÃ¡ mu mnoho
moÅ¾nostÃ­. SystÃ©m je implementovÃ¡n v programovacÃ­m jazyce PHP.

NÄ›kterÃ© ze zmÃ­nÄ›nÃ½ch nevÃ½hod lze eliminovat vyuÅ¾itÃ­m sluÅ¾eb serveru
\emph{moodlerooms.com}, kterÃ½ za poplatek nabÃ­zÃ­ hostovÃ¡nÃ­ a sprÃ¡vu
systÃ©mu Moodle vÄetnÄ› uklÃ¡dÃ¡nÃ­ dat do cloudu (na servery \emph{moodlerooms.com}).
V praxi se pak dÃ¡ Å™Ã­ci, Å¾e systÃ©m je nabÃ­zen jako sluÅ¾ba.

Co se tÃ½Äe propojenÃ­ s aplikacÃ­ pro mobilnÃ­ zaÅ™Ã­zenÃ­, zatÃ­m neexistuje
Å¾Ã¡dnÃ© oficiÃ¡lnÃ­ Å™eÅ¡enÃ­. Je k dispozici pouze nÄ›kolik mÃ¡lo neoficiÃ¡lnÃ­ch
aplikacÃ­, kterÃ© vÅ¡ak implementujÃ­ jen zlomek zÃ¡kladnÃ­ch modulÅ¯ systÃ©mu.
Za zmÃ­nku stojÃ­ pouze aplikace mTouch\cite{mtouch} pro platformu
iOS, kterÃ¡ se Å™adÃ­ mezi ty zdaÅ™ilejÅ¡Ã­.


\section{Blackboard}

Blackboard\cite{blackboard} je komerÄnÃ­ software urÄenÃ½ pro kompletnÃ­
sprÃ¡vu vÃ½uky velkÃ½ch institucÃ­ - pÅ™evÃ¡Å¾nÄ› univerzit v USA. Toto Å™eÅ¡enÃ­
vÄ›tÅ¡inou nenÃ­ dostupnÃ© jednotlivcÅ¯m nebo menÅ¡Ã­m organizacÃ­m. MÃ¡ mnoho
spoleÄnÃ½ch rysÅ¯ se systÃ©mem Moodle, z ÄehoÅ¾ plynou i spoleÄnÃ© nevÃ½hody.
OpÄ›t je hlavnÃ­m ÃºÄelem podpora vzdÃ¡lenÃ©ho (neprezenÄnÃ­ho) vyuÄovÃ¡nÃ­
- nabÃ­zÃ­ virtuÃ¡lnÃ­ vyuÄovÃ¡nÃ­ a podobnÄ›. VÃ½hodou je ale podpora ze
strany autorskÃ© spoleÄnosti (prodejce). SpoleÄnost za poplatky nabÃ­zÃ­
instalaci, hostovÃ¡nÃ­ aplikace i sprÃ¡vu a zajiÅ¡tÄ›nÃ­ provozu.

AutoÅ™i nabÃ­zejÃ­ nativnÃ­ aplikaci pro vÄ›tÅ¡inu platforem mobilnÃ­ch zaÅ™Ã­zenÃ­,
kterÃ¡ vÅ¡ak podle dostupnÃ½ch uÅ¾ivatelskÃ½ch zkuÅ¡enostÃ­ zdaleka nenÃ­
kompatibilnÃ­ se vÅ¡emi konkrÃ©tnÃ­mi instancemi bÄ›Å¾Ã­cÃ­ch na univerzitÃ¡ch.


\section{Instructure Canvas}

TÅ™etÃ­ implementacÃ­ stojÃ­cÃ­ za zmÃ­nÄ›nÃ­ je systÃ©m Instructure Canvas\cite{instructure-canvas}.
PÅ¯vodnÄ› Å¡lo o komerÄnÃ­ produkt, ale v Ãºnoru 2011 se z aplikace stala
open-source platforma. Canvas se snaÅ¾Ã­ ,,ukrojit'' ÄÃ¡st ÃºspÄ›chu
systÃ©mu Moodle a dÃ­ky podobnÃ½m vlastnostem a funkcÃ­m s vÃ½raznÄ› modernÄ›jÅ¡Ã­m
pojetÃ­m se mu to daÅ™Ã­. Aplikace si zaklÃ¡dÃ¡ na modernÃ­m designu a pÅ™imÄ›Å™enÃ©
uÅ¾ivatelskÃ© jednoduchosti - vyuÅ¾Ã­vÃ¡ novodobÃ© technologie jako HTML5%
\footnote{HyperText Markup Language%
}\nomenclature{HTML}{HyperText Markup Language}, CSS3\emph{}%
\footnote{\emph{Cascading Style Sheets}%
}\emph{\nomenclature{CSS}{Cascading Style Sheets}} Äi jQuery a dokÃ¡Å¾e
ÄÃ¡steÄnÄ› spolupracovat s oblÃ­benÃ½mi sociÃ¡lnÃ­mi sluÅ¾bami. Velikou vÃ½hodou
je to, Å¾e aplikace je provozovÃ¡na i jako sluÅ¾ba. TudÃ­Å¾ uÅ¾ivateli odpadajÃ­
starosti se sloÅ¾itou instalacÃ­, konfiguracÃ­, aktualizacemi a samotnÃ½m
provozem aplikace. ZÃ¡roveÅˆ jsou vÅ¡echna data spolehlivÄ› uloÅ¾ena v
cloudu (na serverech spoleÄnosti Instructure). Podobnost s platformou
Moodle vÅ¡ak opÄ›t pÅ™inÃ¡Å¡Ã­ nevÃ½hody vychÃ¡zejÃ­cÃ­ z vysokÃ© orientace na
e-learning a minimÃ¡lnÃ­ho zamÄ›Å™enÃ­ na podporu prezenÄnÃ­ vÃ½uky. Aplikace
je implementovÃ¡na pÅ™edevÅ¡Ã­m v jazyce Java a webovÃ¡ sluÅ¾ba funguje
dÃ­ky technologii Google AppEngine.

SpoleÄnost Instructure nabÃ­zÃ­ oficiÃ¡lnÃ­ mobilnÃ­ aplikaci, avÅ¡ak pouze
pro platformu iOS. Pro Android neexistuje zatÃ­m Å¾Ã¡dnÃ© (ani neoficiÃ¡lnÃ­)
Å™eÅ¡enÃ­.


\chapter{Architektura MVC}

Architektura MVC\emph{}%
\footnote{\emph{Model-View-Controller}%
}\emph{\cite{mvc}} se poslednÃ­ dobou stÃ¡vÃ¡ standardem pÅ™i vÃ½voji objektovÄ›
orientovanÃ½ch (nejen) webovÃ½ch aplikacÃ­. PÅ™inÃ¡Å¡Ã­ totiÅ¾ mnohÃ© vÃ½hody,
klady a usnadnÄ›nÃ­.

Architektura byla poprvÃ© definovÃ¡na jiÅ¾ v sedmdesÃ¡tÃ½ch letech minulÃ©ho
stoletÃ­ spoleÄnostÃ­ Smalltalk.\emph{ }RozdÄ›luje implementaci objektovÄ›
orientovanÃ© aplikace do tÅ™Ã­ zÃ¡kladnÃ­ch vrstev: Model (Vrstva modelu),
View (Vrstva pohledu), Controller (Vrstva Å™adiÄe). Vrstvy v zÃ¡sadÄ›
izolujÃ­ ty souÄÃ¡sti implementace, kterÃ© spolu souvisÃ­, musÃ­ o sobÄ›
navzÃ¡jem vÄ›dÄ›t konkrÃ©tnÃ­ charakteristiky a Äasto je lze chÃ¡pat samostatnÄ›.

Model je vrstva, kterÃ¡ obvykle obstarÃ¡vÃ¡ nebo udrÅ¾uje informace a
implementuje nÄ›jakÃ½ obecnÃ½ problÃ©m nezÃ¡visle na zÃ­skÃ¡vÃ¡nÃ­ vstupnÃ­ch
dat nebo prezentovÃ¡nÃ­ vÃ½sledkÅ¯. Obvykle se jednÃ¡ o jednu, nebo nÄ›kolik
tÅ™Ã­d, kterÃ© napÅ™Ã­klad zÃ­skÃ¡vajÃ­ data z databÃ¡zovÃ© vrstvy, provÃ¡dÃ­
vÃ½poÄty a jinÃ© podobnÃ© Ãºkony. Model by na ostatnÃ­ch vrstvÃ¡ch nemÄ›l
bÃ½t vÅ¯bec zÃ¡vislÃ½.

View (Pohled), jak nÃ¡zev napovÃ­dÃ¡, je vrstva, kterÃ¡ mÃ¡ za Ãºkol zobrazovat
vÃ½slednÃ¡ data. Zobrazovat je nemusÃ­ jen uÅ¾ivateli, ale napÅ™Ã­klad takÃ©
jinÃ©mu programu (zobrazuje API), tudÃ­Å¾ se nemusÃ­ vÅ¾dy jednat o grafickÃ©
rozhranÃ­. Zpravidla je vÅ¡ak pohled reprezentovÃ¡n prÃ¡vÄ› definicÃ­ uÅ¾ivatelskÃ©ho
rozhranÃ­ - HTML Å¡ablony, GUI%
\footnote{Graphical User Interface%
}\nomenclature{GUI}{Graphical User Interface} aplikace.

Controller (Å˜adiÄ) je vrstva, o kterÃ© lze Å™Ã­ci, Å¾e leÅ¾Ã­ mezi vrstvami
Model a View. StarÃ¡ se pÅ™evÃ¡Å¾nÄ› o zpracovÃ¡nÃ­ uÅ¾ivatelskÃ©ho vstupu
a o propojenÃ­ modelu s pohledem. Obvykle zÃ­skÃ¡vÃ¡ parametry ze vstupu,
ty pÅ™edÃ¡ modelu, kterÃ½ na jejich zÃ¡kladÄ› vrÃ¡tÃ­ potÅ™ebnÃ¡ data nebo
uÄinÃ­ jinÃ© Ãºkony. PÅ™Ã­padnÃ¡ zÃ­skanÃ¡ data zase pÅ™edÃ¡ pohledu, kterÃ½
je vhodnÃ½m zpÅ¯sobem podÃ¡ napÅ™Ã­klad uÅ¾ivateli.

VÃ½hod nÃ¡sledovÃ¡nÃ­ pravidel MVC je mnoho. Tou hlavnÃ­ je nepochybnÄ›
obrovskÃ¡ pÅ™ehlednost vÃ½slednÃ©ho kÃ³du. Ta je zpÅ¯sobena striktnÃ­m oddÄ›lenÃ­m
uÅ¾ivatelskÃ©ho rozhranÃ­ (View) od kÃ³du obsluhy (Controller) a aplikaÄnÃ­
logiky (Model). DÃ­ky tomu jsou takÃ© aplikace daleko lÃ©pe pÅ™ipravenÃ©
na pÅ™Ã­padnÃ© Ãºpravy Äi rozÅ¡Ã­Å™enÃ­ - napÅ™Ã­klad zmÄ›na vzhledu uÅ¾ivatelskÃ©ho
rozhranÃ­ probÄ›hne pouze na Ãºrovni vrstvy View, tedy vyvÃ­jet lze takÅ™ka
oddÄ›lenÄ›. VÃ½hodou je takÃ© to, Å¾e pÅ™i testovÃ¡nÃ­ aplikace je moÅ¾nÃ© testovat
jednotlivÃ© vrstvy implementace naprosto oddÄ›lenÄ›.


\chapter{Problematika propojenÃ­ s mobilnÃ­ aplikacÃ­}


\section{Motivace}

V poslednÃ­ch letech je viditelnÃ½ vÃ½znamnÃ½ pÅ™esun prÃ¡ce s internetem
z domÃ¡cÃ­ch poÄÃ­taÄÅ¯ na mobilnÃ­ zaÅ™Ã­zenÃ­. MobilnÃ­mi zaÅ™Ã­zenÃ­mi jsou
myÅ¡leny pÅ™edevÅ¡Ã­m mobilnÃ­ telefony a tablety. ProvozovatelÃ© webovÃ½ch
sluÅ¾eb jsou tak stÃ¡le ÄastÄ›ji nuceni umoÅ¾nit klientovi pohodlnÄ› a
naplno uÅ¾Ã­vat aplikaci prÃ¡vÄ› z tÄ›chto zaÅ™Ã­zenÃ­.

NÄ›kteÅ™Ã­ tento trend Å™eÅ¡Ã­ cestou (obvykle) nejmenÅ¡Ã­ho odporu - optimalizacÃ­
webovÃ½ch strÃ¡nek aplikace pro menÅ¡Ã­ obrazovky pÅ™enosnÃ½ch zaÅ™Ã­zenÃ­.
Toto Å™eÅ¡enÃ­ spolu ale Äasto nese nÄ›kolik znaÄnÃ½ch nevÃ½hod. Aplikace
pÅ™edevÅ¡Ã­m nemÅ¯Å¾e naplno vyuÅ¾Ã­t potenciÃ¡l zaÅ™Ã­zenÃ­. NeposkytujÃ­ takovÃ½
komfort jako aplikace integrovanÃ© do systÃ©mu (napÅ™Ã­klad pro zobrazovÃ¡nÃ­
oznÃ¡menÃ­), kterÃ© mohou vyuÅ¾Ã­vat kompletnÃ­ sadu frameworkÅ¯ dodÃ¡vanÃ½ch
vÃ½robcem operaÄnÃ­ho systÃ©mu. Nelze aplikaci integrovat do systÃ©mu
nebo napÅ™Ã­klad pÅ™istupovat k datÅ¯m z jinÃ½ch aplikacÃ­, jako je seznam
kontaktÅ¯, kalendÃ¡Å™ a jinÃ©. NedokÃ¡Å¾Ã­ ani naplno vyuÅ¾Ã­vat nÄ›kterÃ© hardwarovÃ©
technologie zabudovanÃ© v modernÃ­ch zaÅ™Ã­zenÃ­ch, jako jsou senzory polohy,
svÄ›tla, zrychlenÃ­, fotoaparÃ¡t a podobnÄ›, kterÃ© mohou bÃ½t Äasto uÅ¾iteÄnÃ©.

Toto Å™eÅ¡enÃ­ takÃ© kompletnÄ› znepÅ™Ã­stupnÃ­ obsah v pÅ™Ã­padÄ› nedostupnosti
internetovÃ©ho pÅ™ipojenÃ­. UÅ¾ivatel tedy mÅ¯Å¾e aplikaci pouÅ¾Ã­vat pouze
pokud je v tu chvÃ­li pÅ™ipojen k internetu.

Jistou nadÄ›jÃ­ pro tento pÅ™Ã­stup mÅ¯Å¾e bÃ½t technologie webovÃ½ch strÃ¡nek
v HTML5\cite{html5}. Ta pÅ™idÃ¡vÃ¡ do tradiÄnÃ­ch HTML strÃ¡nek moÅ¾nost
vyuÅ¾Ã­t nÄ›kterÃ© z tÄ›chto pokroÄilÃ½ch funkcÃ­. Je zde moÅ¾nost obsah ke
klientovi uloÅ¾it a pak ho zobrazit offline - tedy krÃ¡tkodobÄ› bez pÅ™ipojenÃ­
k internetu. PomocÃ­ HTML5 elementÅ¯ je takÃ© moÅ¾nÃ© zjistit polohu uÅ¾ivatele
pomocÃ­ zabudovanÃ½ch senzorÅ¯. DalÅ¡Ã­ novinkou je element\emph{ }\inputencoding{latin2}\lstinline!<canvas>!\inputencoding{utf8},
kterÃ½ umoÅ¾Åˆuje do okna prohlÃ­Å¾eÄe vykreslovat libovolnou grafiku.
HTML v tÃ©to verzi jiÅ¾ takÃ© nativnÄ› podporuje pÅ™ehrÃ¡vÃ¡nÃ­ videa nebo
audia - uÅ¾ nenÃ­ nutnÃ© vytvÃ¡Å™et proprietÃ¡rnÃ­ pÅ™ehrÃ¡vaÄe napÅ™Ã­klad pomocÃ­
technologie Flash, kterÃ© ani nejsou na vÅ¡ech mobilnÃ­ch platformÃ¡ch
podporovanÃ©. VylepÅ¡eny byly i standardnÃ­ webovÃ© formulÃ¡Å™e a prÃ¡ce
s nimi.

VÅ¡echna tato vylepÅ¡enÃ­ se vÅ¡ak zatÃ­m ukazujÃ­ jako nedostateÄnÃ¡. Integrace
s operaÄnÃ­m systÃ©mem zaÅ™Ã­zenÃ­ je minimÃ¡lnÃ­ a v porovnÃ¡nÃ­ s nativnÃ­mi
aplikacemi ty webovÃ© (HTML5) stÃ¡le dost zaostÃ¡vajÃ­. NavÃ­c je nutnÃ¡
podpora ze strany internetovÃ©ho prohlÃ­Å¾eÄe, coÅ¾ se v praxi ukazuje
jako velkÃ½ problÃ©m. RÅ¯znÃ© prohlÃ­Å¾eÄe interpretujÃ­ jen rÅ¯znÃ© podmnoÅ¾iny
pravidel HTML5.

ProgramovÃ¡nÃ­ aplikace pro mobilnÃ­ telefony pomocÃ­ technologie HTML5
ale pÅ™inÃ¡Å¡Ã­ jednu velkou nespornou vÃ½hodu. HTML5 je totiÅ¾ technologie
multiplatformnÃ­. ProvozovatelÃ© sluÅ¾eb nemusejÃ­ platit vÃ½voj pro vÅ¡echny
rozÅ¡Ã­Å™enÃ© mobilnÃ­ platformy (Android, iOS a Windows Phone 7), kterÃ©
jsou natolik odliÅ¡nÃ©, Å¾e Äasto jen malÃ¡ ÄÃ¡st aplikace mÅ¯Å¾e bÃ½t pro
platformy spoleÄnÃ¡. OtÃ¡zkou je, zda nenÃ­ tato vÃ½hoda zastÃ­nÄ›na zmiÅˆovanÃ½mi
nevÃ½hodami.

Budoucnost pravdÄ›podobnÄ› spÄ›je k vÃ½voji univerzÃ¡lnÃ­ch multiplatformnÃ­ch
aplikacÃ­, ale souÄasnÃ¡ nabÃ­dka nÃ¡strojÅ¯ k jeho docÃ­lenÃ­ se zatÃ­m ukazuje
jako nedostateÄnÃ¡.


\section{OtevÅ™enÃ­ API aplikace}

OtevÅ™Ã­t API%
\footnote{Application Programming Interface%
} webovÃ© aplikace znamenÃ¡ zpÅ™Ã­stupnit obsah aplikace jinÃ©mu programu,
tedy pÅ™edevÅ¡Ã­m navrhnout rozhranÃ­, pomocÃ­ kterÃ©ho bude moÅ¾nÃ© jednak
strojovÄ› pÅ™eÄÃ­st data a takÃ© aplikaci poslat vstup - ovlÃ¡dat ji.

Pro Å™eÅ¡enÃ­ takovÃ©ho problÃ©mu existuje mnoho odladÄ›nÃ½ch a hojnÄ› pouÅ¾Ã­vanÃ½ch
implementacÃ­, ze kterÃ½ch lze vybÃ­rat. VÃ½bÄ›r se vÅ¡ak zuÅ¾uje pokud se
vezme v Ãºvahu implementace webovÃ© aplikace a takÃ© to, zda je aplikace
jiÅ¾ naprogramovanÃ¡ a vÃ½vojÃ¡Å™ chce maximÃ¡lnÄ› vyuÅ¾Ã­t jiÅ¾ implementovanÃ©
ÄÃ¡sti.


\subsection{Architektura SOAP}

Jedna z moÅ¾nostÃ­ je vyuÅ¾Ã­t architekturu pro webovÃ© sluÅ¾by s nÃ¡zvem
SOAP\cite{soap}%
\footnote{Simple Object Access Protocol%
}\nomenclature{SOAP}{Simple Object Access Protocol}. Tato architektura
vyuÅ¾Ã­vÃ¡ jako formÃ¡t pÅ™enÃ¡Å¡enÃ½ch dat standard XML%
\footnote{Extensible Markup Language%
}\nomenclature{XML}{Extensible Markup Language} a k vlastnÃ­mu pÅ™enosu
zpravidla protokol HTTP%
\footnote{HyperText Transfer Protocol%
}\nomenclature{HTTP}{HyperText Transfer Protocol} nebo SMTP%
\footnote{Simple Mail Transfer Protocol%
}\nomenclature{SMTP}{Simple Mail Transfer Protocol}(nÄ›kdy i jinÃ©).
Implementace je ale nÃ¡roÄnÄ›jÅ¡Ã­ a v podstatÄ› pÅ™i nÃ­ nelze pouÅ¾Ã­t mnoho
z dosavadnÃ­ implementace samotnÃ© webovÃ© sluÅ¾by. Je tÅ™eba ÃºplnÄ› od
zaÄÃ¡tku vyÅ™eÅ¡it stahovÃ¡nÃ­ i odesÃ­lÃ¡nÃ­ dat na server. VyuÅ¾itÃ­ SOAP
nachÃ¡zÃ­ spÃ­Å¡e v otevÅ™enÃ­ API jinÃ½ch neÅ¾ webovÃ½ch aplikacÃ­.


\subsection{Architektura REST}

Druhou moÅ¾nostÃ­ je vyuÅ¾itÃ­ architektury REST\cite{rest}%
\footnote{REpresentational State Transfer%
}\nomenclature{REST}{REpresentational State Transfer}. Tato architektura
je na rozdÃ­l od SOAP orientovanÃ¡ datovÄ› a ne procedurÃ¡lnÄ›. REST nedefinuje
vzdÃ¡lenÃ© volÃ¡nÃ­ procedur, ale rovnou Å™Ã­kÃ¡ jak pÅ™istupovat ke vzdÃ¡lenÃ½m
datÅ¯m.

K pÅ™enosu je vyuÅ¾it protokol HTTP (autor REST je spoluautorem protokolu
HTTP). KaÅ¾dÃ½ datovÃ½ zdroj je identifikovanÃ½ unikÃ¡tnÃ­m identifikÃ¡torem
URI%
\footnote{Uniform Resource Identifier%
}. K zÃ­skÃ¡nÃ­ a ke vklÃ¡dÃ¡nÃ­ dat se poÅ¾Ã­vajÃ­ standardnÃ­ metody HTTP GET
a POST. REST definuje i vyuÅ¾Ã­vÃ¡nÃ­ konkrÃ©tnÄ›jÅ¡Ã­ch metod HTTP jako DELETE
a PUT, kterÃ© jsou vÅ¡ak nÄ›kdy zapomÃ­nÃ¡ny a nahrazovÃ¡ny metodou POST.
\emph{,,V praxi bÃ½vÃ¡ nÄ›kdy problematickÃ© vyvolat HTTP metodu DELETE
â€“ spousta HTTP nÃ¡strojÅ¯ Äi HTML formulÃ¡Å™e jsou omezeny pouze na metody
POST a GET. V praxi se proto u REST rozhranÃ­ pouÅ¾Ã­vajÃ­ nÃ¡hradnÃ­ zpÅ¯soby
â€“ napÅ™. volÃ¡nÃ­ pomocÃ­ POST s parametrem, kterÃ½ sdÄ›luje, Å¾e mÃ¡ bÃ½t
ve skuteÄnosti pouÅ¾ita metoda DELETE, nebo speciÃ¡lnÃ­ URI''\cite{rest}}
Jako formÃ¡t pÅ™enÃ¡Å¡enÃ½ch dat je moÅ¾nÃ© pouÅ¾Ã­t prakticky cokoliv - XML,
text oddÄ›lenÃ½ oddÄ›lovaÄem, nebo formÃ¡t JSON%
\footnote{JavaScript Object Notation%
}\nomenclature{JSON}{JavaScript Object Notation}.

V podstatÄ› stejnÄ› ale funguje typickÃ¡ aplikace naprogramovanÃ¡ v jazyce
PHP. Data se zÃ­skÃ¡vajÃ­ GET poÅ¾adavkem ve formÃ¡tu HTML, vstupnÃ­ data
se posÃ­lajÃ­ pÅ™es formulÃ¡Å™ pomocÃ­ poÅ¾adavku POST. OstatnÄ› World-Wide-Web
je nejvÄ›tÅ¡Ã­ existujÃ­cÃ­ implementace architektury REST na svÄ›tÄ›. DÃ­ky
tomu se RESTovÃ¡ (anglickÃ½ vÃ½raz RESTful) architektura nabÃ­zÃ­ jako
nejvhodnÄ›jÅ¡Ã­ varianta pÅ™i poÅ¾adavku vyuÅ¾itÃ­ stÃ¡vajÃ­cÃ­ho kÃ³du v co
nejvÄ›tÅ¡Ã­ mÃ­Å™e. 

K otevÅ™enÃ­ API tedy ve vÃ½sledku staÄÃ­, aby server poznal, Å¾e klientem
nenÃ­ ÄlovÄ›k, ale program (konkrÃ©tnÄ› mobilnÃ­ aplikace), a na kaÅ¾dÃ©
podstrÃ¡nce aplikace mÃ­sto obsahu zformÃ¡tovanÃ©ho do HTML zaslal obsah
zformÃ¡tovanÃ½ tak, aby byl strojovÄ› ÄitelnÃ½.


\subsection{FormÃ¡t pÅ™enosu dat}

ZbÃ½vÃ¡ tedy zvolit standard, pomocÃ­ kterÃ©ho budou data ze serveru do
mobilnÃ­ aplikace pÅ™enÃ¡Å¡ena a zÃ¡roveÅˆ bude jejich obsah snadno strojovÄ›
ÄitelnÃ½. NabÃ­zejÃ­ se dva nejrozÅ¡Ã­Å™enÄ›jÅ¡Ã­ a nejvÃ­ce podporovanÃ© standardy
- XML a JSON. VÃ½bÄ›r vÄ›tÅ¡inou zÃ¡leÅ¾Ã­ na pouÅ¾itÃ½ch technologiÃ­ch, konkrÃ©tnÄ›
na tom, na jakÃ© Ãºrovni je existujÃ­cÃ­ implementace pro prÃ¡ci s tÄ›mito
formÃ¡ty. DÃ¡le mÅ¯Å¾e rozhodovat to, zda je nÄ›jakÃ¡ potÅ™eba u pÅ™enÃ¡Å¡enÃ½ch
dat definovat strukturu. Tento poÅ¾adavek lÃ©pe splÅˆuje formÃ¡t XML (lze
pouÅ¾Ã­t XML Schema, DTD%
\footnote{Document Type Definition%
}\nomenclature{DTD}{Document Type Definition} a dalÅ¡Ã­).

UkÃ¡zka formÃ¡tu XML:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=XML]
<auto id="auto-1"> 		
	<vin>128988129823</vin>
	<spz>2A29288</spz>
	<znacka>Skoda</znacka>
	<typ>Superb</typ>
	<rok-vyroby>2009</rok-vyroby>
	<parametry>
		<motor>
			<spotreba>9.2</spotreba> 
			<objem>3,0</objem>
			<maxrychlost>210kmh</maxrychlost>
		</motor> 
	</parametry>
	<porizovaci-cena>750000</porizovaci-cena>
	<pujcovne>1230</pujcovne>
	<!-- Poznamky k vozidlu + zname poruchy --> 		
	<poznamky> 				
		Potreba vymenit olej pri 20000km
		Technicke kontroly: 
	</poznamky> 		
	<nahrada autoID="auto-2" /> 
</auto>
\end{lstlisting}
\inputencoding{utf8}

UkÃ¡zka stejnÃ½ch dat ve formÃ¡tu JSON:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true]
{   
	"auto": {
		"id": "auto-1",
		"vin": "128988129823",
		"spz": "2A29288",
		"znacka": "Skoda",
		"typ": "Superb",
		"rok-vyroby": "2009",
		"parametry": { 
			"motor": {
				"spotreba": "9.2",
				"objem": "3,0",
				"maxrychlost": "210kmh"
			}
		},
		"porizovaci-cena": "750000",
		"pujcovne": "1230",
		"poznamky": "
			Potreba vymenit olej pri 20000km
			Technicke kontroly:
		",
		"nahrada": { 
			"autoID": "auto-2"
		}
	}
}
\end{lstlisting}
\inputencoding{utf8}


\subsection{OdesÃ­lÃ¡nÃ­ dat na server}

OdesÃ­lÃ¡nÃ­ dat na server nemusÃ­ v pÅ™Ã­padÄ› pouÅ¾itÃ­ RESTovÃ© architektury
projÃ­t prakticky Å¾Ã¡dnou zmÄ›nou na stranÄ› serveru. Pokud vstup probÃ­hÃ¡
pomocÃ­ GET poÅ¾adavku, nejednÃ¡ se o nic zvlÃ¡Å¡tnÃ­ho - pokud jsou parametry
souÄÃ¡stÃ­ URL%
\footnote{Uniform Resource Locator%
}\nomenclature{URL}{Uniform Resource Locator}, server si s nimi poradÃ­
stejnÄ› jako v pÅ™Ã­padÄ› normÃ¡lnÃ­ho uÅ¾Ã­vÃ¡nÃ­ aplikace v prohlÃ­Å¾eÄi.

VÄ›tÅ¡ina vstupu ve webovÃ© aplikaci probÃ­hÃ¡ pÅ™es formulÃ¡Å™e za pomoci
POST poÅ¾adavku. Ãškolem klienta v mobilnÃ­ aplikaci je tedy nasimulovat
odeslÃ¡nÃ­ takovÃ©ho formulÃ¡Å™e. To ale znamenÃ¡ provÃ©st jednoduchÃ½ POST
poÅ¾adavek na URL, kterÃ© je nastaveno jako parametr \emph{action} konkrÃ©tnÃ­ho
formulÃ¡Å™e, a k poÅ¾adavku pÅ™idat jednotlivÃ© hodnoty poloÅ¾ek formulÃ¡Å™e
jako POST argumenty. MÅ¯Å¾e se jednat o primitivnÃ­ datovÃ© typy, ale
musÃ­ bÃ½t moÅ¾nÃ© pÅ™es POST poÅ¾adavek poslat i libovolnÃ½ soubor, tak
jako to lze udÄ›lat pomocÃ­ HTML formulÃ¡Å™e.

Pokud se vÅ¡e sprÃ¡vnÄ› implementuje, server zpracuje data stejnÄ›, jako
kdyby pÅ™ichÃ¡zela ze standardnÃ­ho formulÃ¡Å™e z HTML.


\section{PÅ™enos Cookies}

ProblÃ©m, kterÃ½ nastane napÅ™Ã­klad pÅ™i zachovÃ¡vÃ¡nÃ­ moÅ¾nosti pÅ™ihlÃ¡Å¡enÃ­
uÅ¾ivatelÅ¯ do aplikace, je nutnost pÅ™enÃ¡Å¡et mezi poÅ¾adavky hodnoty
HTTP hlaviÄek Cookies\cite{cookies-rfc}. 

\emph{Cookie} a \emph{Set-Cookie} jsou standardnÃ­ hlaviÄky HTTP, kterÃ©
majÃ­ za Ãºkol udrÅ¾ovat stavovÃ© informace mezi serverem a konkrÃ©tnÃ­m
klientem. Server mÅ¯Å¾e v HTTP odpovÄ›di zaslat klientovi hlaviÄku \emph{Set-Cookie}
s nÄ›jakou hodnotou a do svÃ© pamÄ›ti si uloÅ¾Ã­ libovolnou stavovou informaci.
Pokud v budoucnosti (bÄ›hem platnosti Cookie) klient ke svÃ©mu HTTP
poÅ¾adavku pÅ™idÃ¡ hlaviÄku \emph{Cookie} s pÅ™ijatou hodnotou, server
klienta podle hodnoty identifikuje a z pamÄ›ti zjistÃ­ potÅ™ebnou stavovou
informaci. 

V praxi se tato technika pouÅ¾Ã­vÃ¡ napÅ™Ã­klad prÃ¡vÄ› k udrÅ¾enÃ­ informace
o pÅ™ihlÃ¡Å¡enÃ­ uÅ¾ivatele. KdyÅ¾ se uÅ¾ivatel pÅ™ihlÃ¡sÃ­, server si o nÄ›m
vytvoÅ™Ã­ zÃ¡znam, a aby se uÅ¾ivatel nemusel pÅ™ihlaÅ¡ovat v kaÅ¾dÃ©m nÃ¡sledujÃ­cÃ­m
poÅ¾adavku, odeÅ¡le klientovi (v tomto pÅ™Ã­padÄ› prohlÃ­Å¾eÄi) hlaviÄku
\emph{Set-Cookie} s (tajnÃ½m) identifikÃ¡torem a s urÄitou dobou platnosti.
Pokud klient potom (pÅ™ed vyprÅ¡enÃ­m platnosti) poÅ¡le poÅ¾adavek kde
hodnotou jednÃ© z hlaviÄek \emph{Cookie} bude i zmÃ­nÄ›nÃ½ identifikÃ¡tor,
poznÃ¡ server o jakÃ©ho klienta se jednÃ¡ a uÅ¾ po nÄ›m nebude poÅ¾adovat
opÄ›tovnÃ© pÅ™ihlÃ¡Å¡enÃ­ - uÅ¾ivatel je pÅ™ihlÃ¡Å¡en po celou dobu platnosti
Cookie.

PÅ™enos Cookies poruÅ¡uje jedno z pravidel typickÃ½ch webovÃ½ch sluÅ¾eb
- aplikace by mÄ›la bÃ½t bezstavovÃ¡. V pÅ™Ã­padÄ› jiÅ¾ existujÃ­cÃ­ implementace
pÅ™ihlaÅ¡ovÃ¡nÃ­ uÅ¾ivatelÅ¯ lze vÅ¡ak udÄ›lat vÃ½jimku a Cookies k tomuto
ÃºÄelu vyuÅ¾Ã­t.

Pokud tedy poÅ¾adujeme maximÃ¡lnÃ­ vyuÅ¾itÃ­ stÃ¡vajÃ­cÃ­ho kÃ³du standardnÃ­
webovÃ© aplikace, je potÅ™eba v tomto ohledu simulovat chovÃ¡nÃ­ webovÃ©ho
prohlÃ­Å¾eÄe a s Cookies naklÃ¡dat stejnÄ›. Z odpovÄ›dÃ­ serveru je tedy
potÅ™eba sbÃ­rat hlaviÄky \emph{Set-Cookie}, kontrolovat jejich platnost
a v nÃ¡slednÃ½ch dotazech na server posÃ­lat hlaviÄky \emph{Cookie} se
sprÃ¡vnÃ½m obsahem.


\section{ZabezpeÄenÃ­ API}

OtevÅ™enÃ© API aplikace mÅ¯Å¾e vÅ¾dy pÅ™edstavovat urÄitÃ© riziko. MÅ¯Å¾e se
kupÅ™Ã­kladu stÃ¡t, Å¾e je potÅ™eba do mobilnÃ­ aplikace posÃ­lat data, kterÃ¡
by jindy byla uÅ¾ivateli nepÅ™Ã­stupnÃ¡, nebo prostÄ› nechceme, aby bylo
API aplikace veÅ™ejnÄ› pÅ™Ã­stupnÃ©. V tuto chvÃ­li pÅ™ichÃ¡zÃ­ otÃ¡zka zabezpeÄenÃ­
API.

Aby si byl server jist tÃ­m, Å¾e komunikuje s oprÃ¡vnÄ›nÃ½m klientem, je
tÅ™eba, aby se prokÃ¡zal tzv. API klÃ­Äem. API klÃ­Ä je tajnÃ½ Å™etÄ›zec
dostateÄnÃ© dÃ©lky a sloÅ¾itosti, kterÃ½m se klient pÅ™i poÅ¾adavcÃ­ch na
server prokÃ¡Å¾e, Å¾e je k zÃ­skÃ¡nÃ­ dat oprÃ¡vnÄ›n.

API klÃ­Ä typicky nemÅ¯Å¾e bÃ½t nahrazen pÅ™ihlÃ¡Å¡enÃ­m uÅ¾ivatele, jelikoÅ¾
je Äasto potÅ™eba pÅ™Ã­stup k API omezit i v pÅ™Ã­padÄ› veÅ™ejnÃ½ch ÄastÃ­
aplikace s povolenÃ½m anonymnÃ­m pÅ™Ã­stupem.

KlÃ­Ä je moÅ¾nÃ© pÅ™enÃ¡Å¡et v kaÅ¾dÃ©m HTTP poÅ¾adavku, nebo jen v prvnÃ­m
a pak vyuÅ¾Ã­t moÅ¾nosti Cookies stejnÄ› jako pÅ™i pÅ™ihlaÅ¡ovÃ¡nÃ­. MÅ¯Å¾e bÃ½t
v poÅ¾adavcÃ­ch pÅ™edÃ¡vÃ¡n jako GET parametr, POST parametr, nebo mÅ¯Å¾e
bÃ½t uloÅ¾en v hlaviÄkÃ¡ch. VÅ¡echny varianty majÃ­ svÃ© vÃ½hody i nevÃ½hody.

SamotnÃ© pouÅ¾itÃ­ API klÃ­Äe nezaruÄuje naprostou bezpeÄnost API. PÅ™i
sledovÃ¡nÃ­ sÃ­Å¥ovÃ©ho provozu je stejnÄ› jako pÅ™i pÅ™ihlaÅ¡ovÃ¡nÃ­ uÅ¾ivatelÅ¯
moÅ¾nÃ© API klÃ­Ä relativnÄ› jednoduÅ¡e zjistit. Proto je doporuÄeno provozovat
webovou aplikaci na zabezpeÄenÃ©m protokolu HTTPS (S znaÄÃ­ Secure),
kde je pÅ™enos Å¡ifrovÃ¡n pomocÃ­ technologiÃ­ SSL%
\footnote{Secure Sockets Layer%
}, nebo TLS%
\footnote{Transport Layer Security%
}.


\chapter{PouÅ¾itÃ© technologie a frameworky}


\section{Nette Framework}

Nette Framework\cite{nette} je pokroÄilÃ½ framework pro jazyk PHP.
PÅ™estoÅ¾e je PHP pÅ¯vodnÄ› jazykem skriptovacÃ­m, v modernÃ­ dobÄ› v nÄ›m
lze naplno vyuÅ¾Ã­t vÄ›tÅ¡iny vÃ½hod objektovÄ› orientovanÃ©ho programovÃ¡nÃ­
(OOP\nomenclature{OOP}{ObjektovÄ› OrientovanÃ© ProgramovÃ¡nÃ­}).
Nette Framework stavÃ­ svÃ© zÃ¡klady prÃ¡vÄ› na objektovÃ©m modelu a k tomu
takÃ© smÄ›Å™uje implementaci k vyuÅ¾Ã­vÃ¡nÃ­ architektury MVC.

Nette pÅ™inÃ¡Å¡Ã­ PHP programÃ¡torÅ¯m maximÃ¡lnÃ­ usnadnÄ›nÃ­ vÃ½voje webovÃ½ch
aplikacÃ­ a umoÅ¾Åˆuje jim orientovat se pÅ™i vÃ½voji na funkÄnost a ne
na Å™eÅ¡enÃ­ zÃ¡kladnÃ­ch bezpeÄnostnÃ­ch nebo syntaktickÃ½ch problÃ©mÅ¯. SnaÅ¾Ã­
se potlaÄit mnohÃ© znÃ¡mÃ© neÅ¡vary spojenÃ© s jazykem PHP nebo se skriptovacÃ­mi
jazyky obecnÄ› a vÃ½vojÃ¡Å™e jich uÅ¡etÅ™it. Nette Framework takÃ© naprosto
redefinuje ladÄ›nÃ­ programÅ¯ v PHP - nabÃ­zÃ­ plnohodnotnÃ© ladÃ­cÃ­ nÃ¡stroje,
jakÃ© jsou dostupnÃ© u modernÃ­ch programovacÃ­ch jazykÅ¯ a tÃ­m znaÄnÄ›
urychluje vÃ½voj.

Framework je velmi kompaktnÃ­ (komprimovanÃ¡ velikost je okolo 250 KB)
a mÃ¡ tu vÃ½hodu, Å¾e programÃ¡tor nenÃ­ nikdy nucen vyuÅ¾Ã­vat framework
kompletnÃ­. BÄ›Å¾nÄ› lze pomocÃ­ nÄ›kolika Å™Ã¡dkÅ¯ kÃ³du vyuÅ¾Ã­t napÅ™Ã­klad jen
poskytovanÃ© ladÃ­cÃ­ nÃ¡stroje.

HlavnÃ­ pÅ™ednosti a vÃ½hody lze shrnout do nÄ›kolika bodÅ¯:
\begin{enumerate}
\item ZabezpeÄenÃ­


PÅ™i pouÅ¾itÃ­ Nette se programÃ¡tor nemusÃ­ pÅ™i vÃ½voji starat o Å™eÅ¡enÃ­
jindy obvyklÃ½ch bezpeÄnostnÃ­ch zÃ¡leÅ¾itostÃ­, jako je napÅ™Ã­klad ochrana
pÅ™ed \emph{cross-site scripting}, \emph{session hijacking} atd. Framework
typickÃ© bezpeÄnostnÃ­ dÃ­ry automaticky eliminuje, nebo vÅ¯bec nedovolÃ­
jejich vÃ½skyt.

\item NÃ¡stroje na ladÄ›nÃ­ kÃ³du


Nette knihovna s nÃ¡zvem \emph{Debugger }(ladÄ›nka) nabÃ­zÃ­ mnoho nÃ¡strojÅ¯,
kterÃ½mi lze zpÅ™Ã­jemnit a hlavnÄ› povÃ½Å¡it ladÄ›nÃ­ kÃ³du v PHP. LadÄ›nka
umÃ­ pÅ™i pÅ™Ã­padnÃ© chybÄ› (oproti klasickÃ©mu chybovÃ©mu hlÃ¡Å¡enÃ­ PHP) pÅ™esnÄ›
ilustrovat mÃ­sto chyby a dokonce vypÃ­Å¡e i tzv. callstack - zÃ¡sobnÃ­k
zobrazujÃ­cÃ­ zanoÅ™enÃ­ spuÅ¡tÄ›nÃ½ch metod v Äase chyby. ChybovÃ¡ strÃ¡nka
poskytne i aktuÃ¡lnÃ­ hodnoty relevantnÃ­ch promÄ›nnÃ½ch. V podstatÄ› nabÃ­zÃ­
vÅ¡echny pokroÄilÃ© funkce, kterÃ© lze najÃ­t v modernÃ­ch vÃ½vojovÃ½ch prostÅ™edÃ­
u klasickÃ½ch programovacÃ­ch jazykÅ¯. 


LadÄ›nka dokÃ¡Å¾e zobrazit fixnÃ­ panel zobrazenÃ½ na vrchu kaÅ¾dÃ© strÃ¡nky,
kterÃ½ dokÃ¡Å¾e vypisovat hodnoty libovolnÃ½ch promÄ›nnÃ½ch, dÃ©lku naÄtenÃ­
strÃ¡nky nebo mnoÅ¾stvÃ­ spotÅ™ebovanÃ© pamÄ›ti. Pokud je potÅ™eba chyby,
nebo cokoliv jinÃ©ho zapisovat do externÃ­ho souboru, lze vyuÅ¾Ã­t funkce
pro vÃ½pis do logu. 

\item FormulÃ¡Å™e


Framework pÅ™inÃ¡Å¡Ã­ vÃ½raznÃ© usnadnÄ›nÃ­ prÃ¡ce s HTML formulÃ¡Å™i. UsnadÅˆuje
jejich vytvÃ¡Å™enÃ­, zpracovÃ¡nÃ­ odeslanÃ½ch dat (vÄetnÄ› validace) a zÃ¡roveÅˆ
poskytujÃ­ zabezpeÄenÃ­ proti mnoha zranitelnostem. 


Struktura formulÃ¡Å™Å¯ se vytvÃ¡Å™Ã­ v PHP kÃ³du pomocÃ­ tÅ™Ã­dy \emph{Form},
coÅ¾ za prvÃ© ochrÃ¡nÃ­ aplikaci proti zneuÅ¾itÃ­ formulÃ¡Å™e na stranÄ› HTML
(aplikace vÃ­, co formulÃ¡Å™ obsahuje a poznÃ¡, pokud byl zmÄ›nÄ›n), a za
druhÃ© umoÅ¾nÃ­ validaci vstupnÃ­ch dat jak na stranÄ› serveru, tak na
stranÄ› klienta (JavaScript). Nette obsahuje velmi dobÅ™e vypadajÃ­cÃ­
vÃ½chozÃ­ zpÅ¯sob vykreslovÃ¡nÃ­ formulÃ¡Å™e, ale v pÅ™Ã­padÄ› potÅ™eby lze pomocÃ­
maker v Å¡ablonÄ› vykreslit formulÃ¡Å™ naprosto libovolnÄ›.


PÅ™Ã­klad formulÃ¡Å™e v Nette Frameworku:


\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=PHP]
protected function createComponentRegisterForm() {
	// funkce pro validaci pouziteho e-mailu
	function myValidator($item){
		$result = dibi::query('SELECT id FROM user WHERE email=%s', $item->getValue());
		return (count($result) === 0);
	}

	// novy formular
	$form=new AppForm;

	// nastaveni jazyka podle prekladace
	$form->setTranslator($this->translator);

	// pridani textoveho pole pro jmeno
	// spolecne s overenim vyplneni a pripadnou hlaskou
	$form->addText('firstname', 'First name:*')
			->addRule(Form::FILLED, 'Fill the firstname.');
	$form->addText('lastname', 'Last name:*')
			->addRule(Form::FILLED, 'Fill the lastname.');

	// Nette umi rovnou kontrolovat e-mailovou adesu
	// Nastavime vlastni validator obsahu - libovolnou funkci
	$form->addText('email', 'E-mail:*')
			->setRequired()
			->setEmptyValue('@')
			->addRule(Form::EMAIL, 'Enter valid e-mail')
			->addRule('myValidator', 'E-mail is already registered.');
	$form->addPassword('password', 'Password:*')
			->addRule(Form::FILLED, 'Fill in the password')
			->addRule(Form::MIN_LENGTH, 'Minimal password length is 5', 5);
	$form->addPassword('password2', 'Verify password:*')
			->addRule(Form::FILLED, 'Fill in the password again.')
			->addRule(Form::EQUAL, 'Passwords don\'t match.', $form['password']);
	$form->addText('web', 'Webpage:');

	// pridame tlacitko k odeslani
	$form->addSubmit('send', 'Register');

	// nastavime callback, ktery se zavola po uspesnem odeslani formulare
	// spolecne s jeho hodnotami
	$form->onSubmit[] = callback($this, 'registerFormSubmitted');
	return $form;
}
\end{lstlisting}
\inputencoding{utf8}

\item Komponenty


RozdÄ›lenÃ­ aplikacÃ­ do samostatnÃ½ch komponent se hodÃ­ tehdy, je-li
potÅ™eba urÄitou ÄÃ¡st kÃ³du pouÅ¾Ã­t vÃ­cekrÃ¡t na rÅ¯znÃ½ch mÃ­stech. KupÅ™Ã­kladu
lze do komponenty zapouzdÅ™it pÅ™ihlaÅ¡ovacÃ­ formulÃ¡Å™ a v mÃ­stech pouÅ¾itÃ­
vÅ¾dy vykreslit pouze komponentu s nÄ›kolika mÃ¡lo parametry. Komponenta
funguje v podstatÄ› velmi podobnÄ› jako Presenter (tÅ™Ã­dy majÃ­ stejnÃ©ho
pÅ™edka) a takÃ© je jejÃ­ vykreslenÃ­ obvykle definovÃ¡no externÃ­ Å¡ablonou.

\item Architektura MVC


Aplikace postavenÃ¡ na Nette frameworku by mÄ›la respektovat zÃ¡sady
architektury MVC - aplikace se totiÅ¾ sklÃ¡dÃ¡ zpravidla z presenterÅ¯
(tÅ™Ã­da Presenter reprezentuje v architektuÅ™e vrstvu Controller), z
modelovÃ½ch tÅ™Ã­d (libovolnÃ¡ tÅ™Ã­da s veÅ™ejnÃ½mi metodami) a z \emph{latte
}Å¡ablon (view).

\item Tvar URL (smÄ›rovÃ¡nÃ­)


RoutovÃ¡nÃ­ (smÄ›rovÃ¡nÃ­) je proces pÅ™eklÃ¡dÃ¡nÃ­ URL na konkrÃ©tnÃ­ akci presenteru
a naopak. Nette aplikace musÃ­ definovat tzv. Routy, kterÃ© Å™Ã­kajÃ­,
jakÃ½m zpÅ¯sobem pÅ™eklad probÃ­hÃ¡. ZÃ¡kladnÃ­ routovÃ¡nÃ­ funguje tak, Å¾e
URL vÅ¾dy obsahuje cestu k souboru \emph{index.php} a vÅ¡echny potÅ™ebnÃ©
informace (nÃ¡zev presenteru, nÃ¡zev akce a jinÃ© volitelnÃ© parametry)
jsou pÅ™edÃ¡vÃ¡ny zpÅ¯sobem typickÃ½m pro GET poÅ¾adavek. URL tedy mÅ¯Å¾e
vypadat napÅ™Ã­klad takto: \emph{\url{http://example.com/index.php?presenter=product&action=detail&id=123}}.
TakovÃ© URL jsou ale v praxi zbyteÄnÄ› dlouhÃ© a hÅ¯Å™e ÄitelnÃ©. Proto
lze v Nette jednoduÅ¡e pomocÃ­ definovÃ¡nÃ­ Rout zprovoznit takzvanÃ© ,,hezkÃ©
URL''. Adresa pak mÅ¯Å¾e vypadat tÅ™eba takto: \url{http://example.com/product/detail/123}.


Obrovskou vÃ½hodou je to, Å¾e pÅ™i psanÃ­ aplikace programÃ¡tor odkazuje
na konkrÃ©tnÃ­ akce presenterÅ¯ a routovÃ¡nÃ­ vÅ¯bec nemusÃ­ Å™eÅ¡it. Tedy
aÅ¾ na konci vÃ½voje se mÅ¯Å¾e rozhodnout pro styl routovÃ¡nÃ­ a mÅ¯Å¾e ho
kdykoliv zmÄ›nit bez zÃ¡sahu do aplikaÄnÃ­ho kÃ³du.

\item Å ablonovÃ½ systÃ©m


Pro zachovÃ¡nÃ­ principÅ¯ MVC architektury je nutnÃ© oddÄ›lit vzhled uÅ¾ivatelskÃ©ho
rozhranÃ­ od aplikaÄnÃ­ logiky. K tomu v nette slouÅ¾Ã­ systÃ©m tzv. \emph{latte}
Å¡ablon. Å ablony jsou soubory s pÅ™Ã­ponou \emph{.latte}, kterÃ© obsahujÃ­
HTML kÃ³d doplnÄ›nÃ½ o tzv. \emph{latte} makra. Makra jsou oznaÄena tÃ­m,
Å¾e je ,,obalujÃ­'' sloÅ¾enÃ© zÃ¡vorky. Nette v zÃ¡kladu definuje mnoho
standardnÃ­ch maker - od tÄ›ch jednoduchÃ½ch (prostÃ½ vÃ½pis promÄ›nnÃ©,
makro pro vytvoÅ™enÃ­ URL odkazu a dalÅ¡Ã­) aÅ¾ po sloÅ¾itÄ›jÅ¡Ã­ (for-cykly,
pÅ™iÅ™azenÃ­ promÄ›nnÃ©, \emph{if-else }konstrukce, vykreslenÃ­ formulÃ¡Å™e
a dalÅ¡Ã­). PromÄ›nnÃ© se do Å¡ablony dostanou typicky tak, Å¾e je do nÃ­
poÅ¡le presenter.


Å ablony mohou samozÅ™ejmÄ› do svÃ©ho tÄ›la vklÃ¡dat obsah jinÃ½ch Å¡ablon,
takÅ¾e nenÃ­ potÅ™eba kÃ³d duplikovat.


PÅ™Ã­klad pouÅ¾itÃ­ \emph{latte }Å¡ablony:


\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=HTML]
<html>
	<head>
		<title>Titulek stranky</title>
		<script src="{$basePath}/script.js" />
	</head>
	<body>
		<span>{$user->isLogged() ? $user->name : 'neprihlasen'}</span>
		<ul id="menu">
			{foreach $menuItems as $item}
				<li><a href="{link $menu->link}">{$menu->title}</a></li>		
			{/foreach}
		</ul>
		{include content}
	</body>
</html>
\end{lstlisting}
\inputencoding{utf8}

\item RozÅ¡Ã­Å™enÃ­ (Pluginy)


Komunita programÃ¡torÅ¯ okolo Nette Frameworku je velmi aktivnÃ­ a na
oficiÃ¡lnÃ­m webu je k dispozici mnoho doplÅˆkÅ¯, kterÃ© Nette rozÅ¡iÅ™ujÃ­
a Äasto mohou uÅ¡etÅ™it pÅ™i vÃ½voji aplikacÃ­ mnoho Äasu a prÃ¡ce. VÄ›tÅ¡inou
se jednÃ¡ o zapouzdÅ™enÃ© komponenty, kterÃ© staÄÃ­ zkopÃ­rovat do adresÃ¡Å™e
aplikace a pomocÃ­ nÄ›kolika Å™Ã¡dku kÃ³du rychle implementovat.

\item AutomatickÃ© naÄÃ­tÃ¡nÃ­ souborÅ¯ tÅ™Ã­d


KaÅ¾dÃ½ PHP programÃ¡tor se zkuÅ¡enostÃ­ s objektovÄ› orientovanÃ½m programovÃ¡nÃ­m
mÃ¡ zkuÅ¡enost s otravnÃ½m nahrÃ¡vÃ¡nÃ­m souborÅ¯ tÅ™Ã­d do kÃ³du. VÅ¾dy, kdyÅ¾
je vyuÅ¾ita nÄ›jakÃ¡ tÅ™Ã­da, musÃ­ bÃ½t v souboru ruÄnÄ› naimportovÃ¡n soubor
tÅ™Ã­du obsahujÃ­cÃ­. S tÃ­m je pÅ™i pouÅ¾itÃ­ Nette Frameworku konec. Nette
automaticky naÄÃ­tÃ¡ (jen potÅ™ebnÃ©) soubory obsahujÃ­cÃ­ definice tÅ™Ã­d
z adresÃ¡Å™e projektu a jiÅ¾ nenÃ­ nutnÃ© nahrÃ¡vat je ruÄnÄ› pomocÃ­ pÅ™Ã­kazÅ¯
\emph{require},\emph{ require\_once }nebo \emph{include}.

\end{enumerate}

\section{Google Android SDK}

Google Android je relativnÄ› novÃ¡ (od roku 2007) platforma urÄenÃ¡ pro
mobilnÃ­ zaÅ™Ã­zenÃ­ - zejmÃ©na mobilnÃ­ telefony, dnes i tablety. Za dobu
svÃ© existence proÅ¡la platforma Å™adou inovacÃ­ a zmÄ›n - jiÅ¾ je ve verzi
4.0.4. Android SDK%
\footnote{Software Development Kit%
}\nomenclature{SDK}{Software Development Kit} je balÃ­k nÃ¡strojÅ¯, kterÃ½m
spoleÄnost Google usnadÅˆuje (umoÅ¾Åˆuje) vÃ½voj nativnÃ­ch aplikacÃ­ pro
tuto platformu. SDK je naprogramovanÃ© v jazyce Java, tudÃ­Å¾ i vÃ½voj
aplikacÃ­ probÃ­hÃ¡ primÃ¡rnÄ› v JavÄ›. Android obsahuje vÄ›tÅ¡inu standardnÃ­ch
knihoven Javy SE (Standard Edition), z nichÅ¾ nÄ›kterÃ© jsou podle potÅ™eb
upravenÃ©, a dÃ¡le knihovny vlastnÃ­. Knihovny nabÃ­zÃ­ mnoho nÃ¡strojÅ¯,
kterÃ© majÃ­ za cÃ­l usnadnit vÃ½vojÃ¡Å™i prÃ¡ci se zaÅ™Ã­zenÃ­m a vyuÅ¾Ã­t jeho
kompletnÃ­ potenciÃ¡l.

SDK mÃ¡ ale i dalÅ¡Ã­ souÄÃ¡sti - nÃ¡stroje na ladÄ›nÃ­ aplikacÃ­, emulÃ¡tor
Android zaÅ™Ã­zenÃ­ na pÅ™Ã­padnÃ© testovÃ¡nÃ­, zÃ¡suvnÃ½ modul do vÃ½vojovÃ©ho
prostÅ™edÃ­ Eclipse a dalÅ¡Ã­.


\subsection{AndroidManifest.xml}

ZÃ¡kladnÃ­m kamenem aplikace je soubor \emph{AndroidManifest.xml}, kterÃ½
slouÅ¾Ã­ k tomu aby dokÃ¡zal aplikaci popsat jeÅ¡tÄ› pÅ™ed tÃ­m, neÅ¾ je spuÅ¡tÄ›na
- aby systÃ©m vÄ›dÄ›l, co mÅ¯Å¾e od aplikace oÄekÃ¡vat a co od nÃ­ bude vyÅ¾adovat.
Jde o jakousi deklaraci aplikace. PomocÃ­ formÃ¡tu XML jsou v souboru
popsÃ¡ny zÃ¡kladnÃ­ informace o aplikaci - jakÃ½ mÃ¡ nÃ¡zev, ikonu, titulek,
minimÃ¡lnÃ­ verze Android OS, verze aplikace a dalÅ¡Ã­. V manifestu jsou
takÃ© popsÃ¡ny jednotlivÃ© ÄÃ¡sti aplikace - \emph{Activity} (,,okno
aplikace''), \emph{Service} (,,sluÅ¾by bÄ›Å¾Ã­cÃ­ na pozadÃ­'') nebo
\emph{Receiver} (,,sluÅ¾ba ÄekajÃ­cÃ­ na nÄ›jakÃ½ signÃ¡l'') a jinÃ©. U
kaÅ¾dÃ© je popsÃ¡no, jakÃ¡ tÅ™Ã­da je implementuje, jejich titulek a dalÅ¡Ã­
nastavenÃ­ (napÅ™Ã­klad typ orientace obrazovky u \emph{Activity}).

Mimo to jsou v manifestu popsanÃ¡ i oprÃ¡vnÄ›nÃ­, kterÃ¡ aplikace od systÃ©mu
vyÅ¾aduje. SystÃ©m pÅ™idÄ›lovÃ¡nÃ­ prÃ¡v se snaÅ¾Ã­ chrÃ¡nit uÅ¾ivatele zaÅ™Ã­zenÃ­
pÅ™ed podvodnÃ½mi aplikacemi, kterÃ© mohou zaÅ™Ã­zenÃ­ zneuÅ¾Ã­t. PÅ™i instalaci
aplikace se uÅ¾ivatel vÅ¾dy dozvÃ­, jakÃ¡ prÃ¡va aplikace vyÅ¾aduje. Tedy
pokud napÅ™Ã­klad aplikace, kterÃ¡ zobrazuje poÄasÃ­, poÅ¾aduje prÃ¡va k
odesÃ­lÃ¡nÃ­ SMS zprÃ¡v, nÄ›co zÅ™ejmÄ› nenÃ­ v poÅ™Ã¡dku a jednÃ¡ se s velkou
pravdÄ›podobnostÃ­ o aplikaci podvodnou.

K podobnÃ½m ÃºkonÅ¯m (pÅ™Ã­stup k internetu, zjiÅ¡tÄ›nÃ­ polohy, prÃ¡ce s telefonnÃ­mi
hovory, vyuÅ¾itÃ­ fotoaparÃ¡tu apod.) je tedy vÅ¾dy potÅ™eba mÃ­t udÄ›lenÃ©
prÃ¡vo, o kterÃ© se Å¾Ã¡dÃ¡ prÃ¡vÄ› v souboru \emph{AndroidManifest.xml.}

PÅ™Ã­klad souboru \emph{AndroidManifest.xml}:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=XML]
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="cz.kinst.jakub.coursemanager"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    <supports-screens android:resizeable="true" />

    <application
        android:allowClearUserData="true"
        android:debuggable="true"
        android:hardwareAccelerated="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme"
        android:uiOptions="splitActionBarWhenNarrow" >
        <activity
            android:name=".CourseList"
            android:label="@string/app_name" >
			<!-- tato aktivita bude vıchozí a bude zobrazena v nabídce aplikací -->
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest>
\end{lstlisting}
\inputencoding{utf8}


\subsection{Resources (zdroje)}

PÅ™i vÃ½voji aplikacÃ­ je obecnÄ› vÅ¾dy pro pÅ™ehlednost dobrÃ©, aby co nejvÃ­ce
zdrojÅ¯, kterÃ© aplikace pouÅ¾Ã­vÃ¡, bylo umÃ­stÄ›no jinde, neÅ¾ v samotnÃ©m
kÃ³du programu. Z toho dÅ¯vodu Android poskytuje rozhranÃ­ pro prÃ¡ci
se zdroji (resources). Zdrojem jsou myÅ¡leny napÅ™Ã­klad bitmapy, zvuky,
fonty, styly prvkÅ¯ uÅ¾ivatelskÃ©ho rozhranÃ­, pole hodnot, Å™etÄ›zce, pÅ™eklady
Å™etÄ›zcÅ¯ a podobnÄ›. Pokud jsou tyto zdroje uloÅ¾eny v tÄ›ch sprÃ¡vnÃ½ch
podsloÅ¾kÃ¡ch (a ve sprÃ¡vnÃ½ch XML souborech v pÅ™Ã­padÄ› Å™etÄ›zcÅ¯, polÃ­
nebo dalÅ¡Ã­ch textovÃ½ch dat) sloÅ¾ky \emph{/res}, zÃ¡suvnÃ½ modul vÃ½vojovÃ©ho
prostÅ™edÃ­ bÄ›hem automatickÃ©ho sestavenÃ­ vygeneruje tÅ™Ã­du s nÃ¡zvem
\emph{R}, kterÃ¡ poslÃ©ze slouÅ¾Ã­ jako pÅ™Ã­stupovÃ½ bod ke zdrojÅ¯m ze zdrojovÃ©ho
kÃ³du. K identifikÃ¡toru konkrÃ©tnÃ­ho Å™etÄ›zce se pak lze dostat napÅ™Ã­klad
pomocÃ­ vÃ½razu \inputencoding{latin2}\lstinline[language=Java]!R.string.nazev_retezce!\inputencoding{utf8}.

DalÅ¡Ã­ dÅ¯leÅ¾itou souÄÃ¡stÃ­ aplikace, kterÃ¡ je povaÅ¾ovÃ¡na za zdroj jsou
definice uÅ¾ivatelskÃ©ho rozhranÃ­ (layout). RozvrÅ¾enÃ­ jednotlivÃ½ch obrazovek
je takÃ© uloÅ¾eno ve formÃ¡tu XML a Android SDK nabÃ­zÃ­ praktickÃ© vizualizovanÃ©
rozhranÃ­ pro vytvÃ¡Å™enÃ­ tÄ›chto souborÅ¯. JednotlivÃ© prvky uÅ¾ivatelskÃ©ho
rozhranÃ­ musejÃ­ mÃ­t nastavenÃ© ID, pomocÃ­ kterÃ©ho k nim lze pÅ™istupovat
ze zdrojovÃ½ch kÃ³dÅ¯ a dÃ¡le s nimi pracovat.

PÅ™Ã­kladem definice uÅ¾ivatelskÃ©ho rozhranÃ­ mÅ¯Å¾e bÃ½t nÃ¡sledujÃ­cÃ­ pÅ™Ã­klad:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=XML]
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Large Text"
        android:textAppearance="?android:attr/textAppearanceLarge" />

    <TextView
        android:id="@+id/date"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Medium Text"
        android:textAppearance="?android:attr/textAppearanceMedium" />

    <Button
        android:id="@+id/solveButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/solve" />

	<Button
        android:id="@+id/correctButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/correct" />

</LinearLayout>
\end{lstlisting}
\inputencoding{utf8}

NaÄÃ­tÃ¡nÃ­ zdrojÅ¯ mÃ¡ ale kromÄ› pÅ™ehlednosti i dalÅ¡Ã­ vÃ½hody. Tak napÅ™Ã­klad
systÃ©m automaticky Å™eÅ¡Ã­ pÅ™eklad Å™etÄ›zcÅ¯ v aplikaci podle nastavenÃ©ho
jazyka zaÅ™Ã­zenÃ­. Do souboru \emph{res/values/strings.xml} se bÄ›Å¾nÄ›
uklÃ¡dajÃ­ zdrojovÃ© Å™etÄ›zce aplikace. Pokud chce vÃ½vojÃ¡Å™ poskytnout
pÅ™eklad do ÄeÅ¡tiny, staÄÃ­ aby vytvoÅ™il soubor \emph{res/values-cs/strings.xml
}ve kterÃ©m jsou uloÅ¾eny pÅ™eklady libovolnÃ© podmnoÅ¾iny Å™etÄ›zcÅ¯ (zbytek
je naÄten z vÃ½chozÃ­ho jazyka). KdyÅ¾ potom bude aplikaci pouÅ¾Ã­vat uÅ¾ivatel
s nastavenÃ½m ÄeskÃ½m jazykem, automaticky se budou zobrazovat pÅ™eklady.
PodobnÄ› lze rozliÅ¡it pouÅ¾itÃ© zdrojovÃ© soubory podle rozliÅ¡enÃ­ displeje
zaÅ™Ã­zenÃ­ nebo verze OS Android.


\subsection{ZdrojovÃ½ kÃ³d}

SamozÅ™ejmÄ› nesmÃ­ chybÄ›t mÃ­sto pro samotnou logiku aplikace, coÅ¾ je
sloÅ¾ka \emph{src}, do kterÃ© se uklÃ¡dajÃ­ jednotlivÃ© tÅ™Ã­dy aplikaÄnÃ­
logiky napsanÃ© v jazyce Java. Asi nejdÅ¯leÅ¾itÄ›jÅ¡Ã­ tÅ™Ã­dou pÅ™i vÃ½voji
aplikace pro Android je tÅ™Ã­da \emph{Activity}, kterÃ¡ reprezentuje
jednu ,,obrazovku'' nebo ,,okno''. StandardnÃ­ aplikace je tvoÅ™ena
pÅ™evÃ¡Å¾nÄ› prÃ¡vÄ› z potomkÅ¯ tÃ©to tÅ™Ã­dy. Implementace tÅ™Ã­dy poskytuje
pÅ™Ã­stup ke vÅ¡em funkcÃ­m spojenÃ½m se zaÅ™Ã­zenÃ­m. NabÃ­zÃ­ takÃ© moÅ¾nost
odchytÃ¡vat udÃ¡lost rÅ¯znÃ©ho druhu, jako je dotyk obrazovky (kliknutÃ­),
stisknutÃ­ hardwarovÃ½ch klÃ¡ves a podobnÄ›. KromÄ› tÅ™Ã­dy \emph{Activity
}se Äasto implementujÃ­ takÃ© potomkovÃ© tÅ™Ã­d \emph{Service} nebo \emph{Receiver}.
PrvnÃ­ v poÅ™adÃ­ se pouÅ¾Ã­vÃ¡, pokud je potÅ™eba provÃ¡dÄ›t libovolnÃ½ proces,
kterÃ½ nepotÅ™ebuje zobrazovat Å¾Ã¡dnÃ© uÅ¾ivatelskÃ© rozhranÃ­ (bÄ›Å¾Ã­ na pozadÃ­).
\emph{Receiver} je v podstatÄ› pÅ™ijÃ­maÄ libovolnÃ½ch signÃ¡lÅ¯ aÅ¥ uÅ¾ ze
stejnÃ© aplikace, nebo z jinÃ© Äi ze samotnÃ©ho operaÄnÃ­ho systÃ©mu. VÅ¡echny
pouÅ¾itÃ© aktivity, sluÅ¾by a receivery musejÃ­ bÃ½t definovÃ¡ny v souboru
\emph{AndroidManifest.xml}.


\chapter{Architektura implementace webovÃ© aplikace}

CelÃ¡ aplikace je postavena na Nette Frameworku ve verzi 2.0dev pro
PHP 5.2. Aplikace se snaÅ¾Ã­ vyuÅ¾Ã­vat vÄ›tÅ¡iny pÅ™ednostÃ­ frameworku jako
jsou pokroÄilÃ© formulÃ¡Å™e, Å¡ablonovÃ½ systÃ©m, routovÃ¡nÃ­ a dalÅ¡Ã­. DÅ¯raz
je kladen na dodrÅ¾ovÃ¡nÃ­ zÃ¡sad architektury MVC ve vÅ¡ech mÃ­stech aplikace.

UÅ¾ivatelskÃ© rozhranÃ­ je nakÃ³dovÃ¡no pomocÃ­ jazyka HTML s pouÅ¾itÃ­m kaskÃ¡dovÃ½ch
stylÅ¯ CSS. NÄ›kterÃ© prvky uÅ¾ivatelskÃ©ho rozhranÃ­ jsou naprogramovÃ¡ny
v JavaScriptu za pomoci frameworkÅ¯ jQuery\emph{\cite{jquery}} a jQuery
UI\emph{\cite{jqueryui} }a nÄ›kolika veÅ™ejnÄ› dostupnÃ½ch zÃ¡suvnÃ½ch
modulÅ¯ do tÄ›chto frameworkÅ¯ (formulÃ¡Å™ovÃ½ prvek pro vÃ½bÄ›r data, kalendÃ¡Å™
apod.).

DatabÃ¡zovÃ¡ vrstva je implementovÃ¡na pomocÃ­ velmi rozÅ¡Ã­Å™enÃ© platformy
MySQL%
\footnote{My Structured Query Language%
}\nomenclature{MySQL}{My Structured Query Language}, kterÃ¡ vÅ¡ak implementuje
pouze ÃºloÅ¾iÅ¡tÄ› dat. Nad databÃ¡zovou vrstvou stojÃ­ jeÅ¡tÄ› knihovna Dibi\emph{\cite{dibi}},
kterÃ¡ usnadÅˆuje prÃ¡ci s databÃ¡zÃ­. DÃ­ky nÃ­ mÅ¯Å¾e modelovÃ¡ vrstva aplikace
fungovat tak, Å¾e modelovÃ© tÅ™Ã­dy obsahujÃ­ veÅ™ejnÃ© statickÃ© metody,
kterÃ© staticky dokÃ¡Å¾Ã­ pÅ™es Dibi pÅ™istupovat k pÅ™ipojenÃ© databÃ¡zi.
To usnadÅˆuje moÅ¾nÃ© komplikace s pÅ™enÃ¡Å¡enÃ­m instancÃ­ pÅ™ipojenÃ­ k databÃ¡zi.

Aplikace je vyvÃ­jena jako vÃ­cejazyÄnÃ¡, proto jsou jednak vÅ¡echny Å™etÄ›zce
v kÃ³du ,,obaleny'' pÅ™ekladovou funkcÃ­ a takÃ© vyuÅ¾ito pÅ™ekladovÃ½ch
nÃ¡strojÅ¯, kterÃ© jsou souÄÃ¡stÃ­ Nette Frameworku (pÅ™eklad formulÃ¡Å™Å¯
apod.). V presenterech je dostupnÃ½ objekt \emph{Translator}, kterÃ½
vyuÅ¾Ã­vajÃ­ pÅ™ekladovÃ© funkce k pÅ™ekladu do aktuÃ¡lnÄ› nastavenÃ©ho jazyka.
SamotnÃ½ pÅ™eklad probÃ­hÃ¡ pomocÃ­ technologie GetText\emph{\cite{gettext}}
- z externÃ­ch souborÅ¯ s pÅ™Ã­ponou \emph{.mo} se zÃ­skÃ¡vajÃ­ pÅ™eklady
Å™etÄ›zcÅ¯ v danÃ©m jazyce. VÃ½chozÃ­m jazykem aplikace je angliÄtina a
vÄ›tÅ¡ina Å™etÄ›zcÅ¯ je strojovÄ› pÅ™eloÅ¾ena i do ÄeskÃ©ho jazyka. DalÅ¡Ã­ jazyky
lze snadno do implementace doplnit.


\section{NÃ¡vrh databÃ¡ze}

NÃ¡vrh databÃ¡zovÃ©ho modelu nejlÃ©pe popÃ­Å¡e grafickÃ© znÃ¡zornÄ›nÃ­ tabulek
a jejich zÃ¡vislostÃ­. Viz obrÃ¡zek v pÅ™Ã­lohÃ¡ch \vpageref{chap:schemadb}.


\section{LogickÃ© moduly}

Implementace aplikace je od zaÄÃ¡tku rozdÄ›lena do logickÃ½ch celkÅ¯ (modulÅ¯),
mezi kterÃ½mi probÃ­hÃ¡ urÄitÃ¡ forma interakce.

Zpravidla je kaÅ¾dÃ½ logickÃ½ modul reprezentovÃ¡n Nette Presenterem,
kterÃ½ obvykle zpracovÃ¡vÃ¡ uÅ¾ivatelskÃ½ vstup, komunikuje s modelem a
definuje formulÃ¡Å™e, nÄ›kolika Å¡ablonami, kterÃ© urÄujÃ­ vÃ½slednÃ© zobrazenÃ­
v HTML a modelovou tÅ™Ã­dou, kterÃ¡ obstarÃ¡vÃ¡ zejmÃ©na komunikaci s databÃ¡zovou
vrstvou.


\subsection{CourseList}

Modul CourseList mÃ¡ za Ãºkol vypisovat seznam kurzÅ¯, jichÅ¾ je pÅ™ihlÃ¡Å¡enÃ½
uÅ¾ivatel Älenem. DalÅ¡Ã­m Ãºkolem je zavÃ¡dÄ›nÃ­ novÃ½ch kurzÅ¯ do databÃ¡ze.
Modul takÃ© zobrazuje pozvÃ¡nky do novÃ½ch kurzÅ¯ ÄekajÃ­cÃ­ na odpovÄ›Ä.
Po pÅ™idÃ¡nÃ­ kurzu pÅ™evezme prÃ¡ci modul Course, kde je teprve moÅ¾nÃ©
zvÃ¡t uÅ¾ivatele a provozovat dalÅ¡Ã­ aktivity. Model nabÃ­zÃ­ hlavnÄ› metody
na vÃ½bÄ›r a sprÃ¡vu kurzÅ¯ z databÃ¡ze - Ãºpravy, mazÃ¡nÃ­ a dalÅ¡Ã­ moÅ¾nosti. 


\subsection{Course}

Modul Course, jak jiÅ¾ nÃ¡zev napovÃ­dÃ¡, mÃ¡ za Ãºkol zobrazovat titulnÃ­
strÃ¡nku kurzu, vÄetnÄ› seznamu lekcÃ­. Na titulnÃ­ strÃ¡nce je zobrazen
i seznam studentÅ¯, popÅ™. jejich e-mailovÃ© adresy. DÃ¡le zde mÅ¯Å¾e lektor
upravovat vlastnosti kurzu, zvÃ¡t dalÅ¡Ã­ studenty, registrovat dalÅ¡Ã­
lektory, zaznamenÃ¡vat dalÅ¡Ã­ lekce atp. V detailu lekce jsou zobrazeny
takÃ© komentÃ¡Å™e studentÅ¯/lektorÅ¯ a soubory, kterÃ© lektor k lekci pÅ™iloÅ¾il.
Tento modul se starÃ¡ i o pÅ™idÃ¡vÃ¡nÃ­ studentÅ¯ do kurzu. PÅ™idÃ¡nÃ­ probÃ­hÃ¡
za pomoci pozvÃ¡nky. PÅ™edpokladem je to, Å¾e lektor znÃ¡ e-mailovou adresu
studenta. Po vytvoÅ™enÃ­ kurzu pÅ™es modul CourseList zadÃ¡ tvÅ¯rce e-mailovÃ©
adresy vÅ¡ech studentÅ¯ a tÃ­m studenty do kurzu pozve. Pokud je jiÅ¾
e-mailovÃ¡ adresa v systÃ©mu vedena jako uÅ¾ivatelskÃ© jmÃ©no, objevÃ­ se
uÅ¾ivateli v systÃ©mu Å¾Ã¡dost o zaÄlenÄ›nÃ­ do kurzu. Pokud student systÃ©m
jeÅ¡tÄ› nepouÅ¾Ã­val, bude na adresu zaslÃ¡na pozvÃ¡nka k registraci do
systÃ©mu. Po zaregistrovÃ¡nÃ­ uÅ¾ jen potvrdÃ­ pozvÃ¡nku do kurzu. Model
nabÃ­zÃ­ metody na naÄtenÃ­/upravovÃ¡nÃ­ vlastnostÃ­ kurzu, metody na zÃ­skÃ¡vÃ¡nÃ­
seznamu lekcÃ­ z databÃ¡ze, zanÃ¡Å¡enÃ­ novÃ½ch lekcÃ­, Ãºprava lekcÃ­, vklÃ¡dÃ¡nÃ­
komentÃ¡Å™Å¯ u lekcÃ­, nahrÃ¡vÃ¡nÃ­ souborÅ¯ k lekci a dalÅ¡Ã­. 


\subsection{Assignments }

Modul Assignments vypisuje k danÃ©mu kurzu seznam aktuÃ¡lnÃ­ch ÃºkolÅ¯/testÅ¯
ke zpracovÃ¡nÃ­. Student mÅ¯Å¾e do data odevzdÃ¡nÃ­ odevzdat svÃ© Å™eÅ¡enÃ­
Ãºkolu. BuÄ ve formÄ› odpovÄ›dÃ­ na otÃ¡zky s moÅ¾nostmi A,B,C... nebo jako
text, popÅ™Ã­padÄ› je moÅ¾nost odevzdat jako Å™eÅ¡enÃ­ libovolnÃ½ soubor.
Lektor mÃ¡ moÅ¾nost Ãºkoly vytvÃ¡Å™et a upravovat, popÅ™Ã­padÄ› mazat. Ãškol
je reprezentovÃ¡n formulÃ¡Å™em, kterÃ½ obsahuje standardnÃ­ formulÃ¡Å™ovÃ©
prvky. Lektor dostÃ¡vÃ¡ moÅ¾nost otevÅ™Ã­t Ãºkol aÅ¾ v urÄitÃ½ pÅ™edem stanovenÃ½
Äas a nastavit, jak dlouho bude ,,oknoâ€ pro odevzdÃ¡vÃ¡nÃ­ otevÅ™eno.
Ãškol mÅ¯Å¾e takÃ© fungovat jako test. Toho lze dosÃ¡hnout tÃ­m, Å¾e mu lektor
nastavÃ­ maximÃ¡lnÃ­ moÅ¾nou dobu Å™eÅ¡enÃ­. Jakmile student spustÃ­ Å™eÅ¡enÃ­,
zaÄne bÄ›Å¾et Äas. Po uplynutÃ­ je formulÃ¡Å™ automaticky odeslÃ¡n v aktuÃ¡lnÃ­m
stavu a student jiÅ¾ nemÅ¯Å¾e svÃ© Å™eÅ¡enÃ­ mÄ›nit. Tento modul takÃ© umoÅ¾Åˆuje
lektorovi opravovat vloÅ¾enÃ¡ Å™eÅ¡enÃ­ ÃºkolÅ¯/testÅ¯ a nÃ¡slednÄ› je i obodovat.
Model nabÃ­zÃ­ vÃ½pis ÃºkolÅ¯ z databÃ¡ze, pÅ™idÃ¡vÃ¡nÃ­ a Ãºpravy jejich struktury.
TakÃ© do systÃ©mu zanÃ¡Å¡Ã­ Å™eÅ¡enÃ­ jednotlivÃ½ch studentÅ¯ a ohodnocenÃ­ zÃ­skanÃ©
od lektora. Pokud se jednÃ¡ o Ãºkol s automatickou korekturou, nabÃ­dne
model i automatickou kontrolu Å™eÅ¡enÃ­ vzhledem k zadÃ¡nÃ­ a pÅ™idÄ›lenÃ­
poÄtu bodÅ¯. 


\subsection{Results}

Modul Results mÃ¡ za Ãºkol zejmÃ©na vypisovat tabulku aktuÃ¡lnÃ­ch vÃ½sledkÅ¯
vÅ¡ech studentÅ¯ kurzu. JednÃ¡ se o vÃ½sledky jak klasickÃ½ch testÅ¯ nebo
ÃºkolÅ¯, tak i testÅ¯ typu online, kterÃ© buÄ opravÃ­ lektor ruÄnÄ› nebo
je opravÃ­ systÃ©m sÃ¡m (automatickÃ¡ korektura). Model umÃ­ vypisovat
vÃ½sledky z databÃ¡ze (a to jednak vÃ½sledkÅ¯ online ÃºkolÅ¯, ale takÃ© klasickÃ½ch
offline ÃºkolÅ¯, jejichÅ¾ vÃ½sledky zadÃ¡ lektor ruÄnÄ›), poÄÃ­tat aritmetickÃ½/vÃ¡Å¾enÃ½
prÅ¯mÄ›r a souÄet bodÅ¯ studenta. DÃ¡le dokÃ¡Å¾e vklÃ¡dat do databÃ¡ze vÃ½sledky
offline ÃºkolÅ¯/testÅ¯. 


\subsection{Events}

V pÅ™Ã­padÄ› modulu Events se jednÃ¡ v podstatÄ› o malou verzi kalendÃ¡Å™e.
KaÅ¾dÃ½ kurz k sobÄ› mÅ¯Å¾e mÃ­t napojeno neomezenÃ© mnoÅ¾stvÃ­ udÃ¡lostÃ­ vÅ¡eho
druhu. AÅ¥ uÅ¾ se jednÃ¡ o exkurze, testy nebo jinÃ© speciÃ¡lnÃ­ akce. Student
o tÄ›ch nejbliÅ¾Å¡Ã­ch bude informovÃ¡n na titulnÃ­ strÃ¡nce danÃ©ho kurzu.
VÅ¡echny udÃ¡losti je pak moÅ¾nÃ© shlÃ©dnout na speciÃ¡lnÃ­ strÃ¡nce zanesenÃ©
v pÅ™ehlednÃ©m kalendÃ¡Å™i. Model poskytne vÃ½pis budoucÃ­ch udÃ¡lostÃ­, vklÃ¡dÃ¡nÃ­
a editaci existujÃ­cÃ­ch udÃ¡lostÃ­.


\subsection{Resources }

Tento modul nabÃ­zÃ­ lektorovi sdÃ­lenÃ­ jakÃ©hokoliv typu souboru. Jednak
mÅ¯Å¾e pÅ™ipojit soubor ke konkrÃ©tnÃ­ lekci, ale takÃ© mÅ¯Å¾e pÅ™idat obecnÃ©
soubory, kterÃ© jsou vÃ¡zanÃ© jen na kurz. Model se starÃ¡ o uklÃ¡dÃ¡nÃ­
informacÃ­ o souborech v databÃ¡zi, uklÃ¡dÃ¡nÃ­ a sprÃ¡vu samotnÃ½ch souborÅ¯
v souborovÃ©m systÃ©mu a poskytnutÃ­ souboru ke staÅ¾enÃ­. SamotnÃ© nahrÃ¡vÃ¡nÃ­
souborÅ¯ na server obstarÃ¡vÃ¡ samostatnÃ¡ nezÃ¡vislÃ¡ Nette komponenta
\emph{Uploader}.


\subsection{User }

Modul User dokÃ¡Å¾e zobrazit profil danÃ©ho uÅ¾ivatele - jeho jmÃ©no, kontaktnÃ­
Ãºdaje atp. Modul se takÃ© starÃ¡ o zobrazenÃ­ prÅ¯vodce vytvoÅ™enÃ­m novÃ©ho
uÅ¾ivatele (i na zÃ¡kladÄ› pozvÃ¡nky). UÅ¾ivatel pomocÃ­ modulu mÅ¯Å¾e svÃ©
Ãºdaje i upravovat. UÅ¾ivatel mÃ¡ v kaÅ¾dÃ©m kurzu jednu ze dvou rolÃ­.
BuÄ se jednÃ¡ o lektora kurzu, kterÃ½ mÅ¯Å¾e kurz spravovat, nebo jde
o studenta. DÃ­ky realizaci je moÅ¾nÃ©, aby jeden uÅ¾ivatel mohl bÃ½t v
jednom kurzu v roli studenta a v jinÃ©m v roli lektora. Model nabÃ­zÃ­
metody k pÅ™idÃ¡nÃ­ uÅ¾ivatele, aktualizaci ÃºdajÅ¯, generovÃ¡nÃ­ kontrolnÃ­ch
registraÄnÃ­ch odkazÅ¯, kontrola bezpeÄnosti hesla. TakÃ© se starÃ¡ o
samotnÃ© pÅ™ihlaÅ¡ovÃ¡nÃ­ uÅ¾ivatelÅ¯ - zejmÃ©na kontrolu ÃºdajÅ¯.


\subsection{Forum }

Modul Forum zajiÅ¡Å¥uje rychlou komunikaci mezi posluchaÄi a lektorem
pomocÃ­ populÃ¡rnÃ­ho stylu diskusnÃ­ho fÃ³ra. FÃ³rum nabÃ­zÃ­ moÅ¾nost vytvoÅ™it
vlÃ¡kno (tÃ©ma), na kterÃ© mohou ostatnÃ­ vzÃ¡pÄ›tÃ­ odpovÃ­dat. Model poskytuje
vklÃ¡dÃ¡nÃ­ tÃ©mat do databÃ¡ze, nÃ¡slednÄ› takÃ© vklÃ¡dÃ¡nÃ­ odpovÄ›dÃ­ a sprÃ¡vnÃ©
propojenÃ­ s tÃ©matem, na kterÃ© odpovÃ­dÃ¡.


\subsection{Messages }

Modul Messages slouÅ¾Ã­ k soukromÃ© komunikaci mezi dvÄ›ma uÅ¾ivateli.
UÅ¾ivatel mÅ¯Å¾e odeslat zprÃ¡vu druhÃ©mu uÅ¾ivateli. Na zprÃ¡vy lze jednoduÅ¡e
odpovÃ­dat. Model musÃ­ zvlÃ¡dnout zanÃ©st zprÃ¡vu do databÃ¡ze a zobrazit
ji u pÅ™Ã­jemce ve sloÅ¾ce doruÄenÃ½ch zprÃ¡v a odesÃ­lateli v odeslanÃ½ch
zprÃ¡vÃ¡ch.


\subsection{Settings }

V modulu Settings je moÅ¾nÃ© nastavovat uÅ¾ivatelskÃ© preference systÃ©mu.
Nastavit moÅ¾nosti zasÃ­lÃ¡nÃ­ e-mailovÃ½ch upozornÄ›nÃ­ v rÃ¡mci jednotlivÃ½ch
modulÅ¯, nastavenÃ­ jazyka aplikace a dalÅ¡Ã­. Model poskytne potÅ™ebnÃ©
metody pro aktualizaci nastavenÃ­. DÃ¡le nabÃ­zÃ­ vÃ½chozÃ­ profil nastavenÃ­,
kterÃ½ bude pÅ™idÄ›len kaÅ¾dÃ©mu novÃ©mu ÃºÄtu. 


\subsection{Mail }

Modul Mail je pouÅ¾Ã­vÃ¡n kdykoliv, kdy je potÅ™eba odeslat informaÄnÃ­
e-mail jednomu z uÅ¾ivatelÅ¯. Model se postarÃ¡ o vytvoÅ™enÃ­ struktury
e-mailu s potÅ™ebnou zprÃ¡vou. NÄ›kterÃ¡ upozornÄ›nÃ­ je potÅ™eba odeslat
bezprostÅ™ednÄ› po uÅ¾ivatelovÄ› interakci (napÅ™. vytvoÅ™enÃ­ Ãºkolu lektorem),
jinÃ¡ vÅ¡ak potÅ™ebujÃ­ bÃ½t odeslÃ¡na automaticky v urÄitou dobu bez spuÅ¡tÄ›nÃ­
skriptu ze strany uÅ¾ivatele. Tyto e-maily jsou proto odesÃ­lÃ¡ny pomocÃ­
dÃ©mona cron na stranÄ› hostingu, kterÃ½ v urÄitÃ½ interval automaticky
spouÅ¡tÃ­ skript (poÅ¾adavek na urÄenou URL na serveru), majÃ­cÃ­ za Ãºkol
podÃ­vat se do databÃ¡ze, zkontrolovat, zda je potÅ™eba nÄ›komu odeslat
upozornÄ›nÃ­ a popÅ™Ã­padÄ› je vÅ¡echna odeslat.


\chapter{Implementace propojenÃ­ s mobilnÃ­ aplikacÃ­}

SouÄÃ¡stÃ­ implementace je Nette doplnÄ›k, kterÃ½ dokÃ¡Å¾e u jiÅ¾ existujÃ­cÃ­
standardnÃ­ Nette aplikace otevÅ™Ã­t jejÃ­ API a Java knihovna, kterÃ¡
se umÃ­ jako klient k takovÃ©mu API jednoduÅ¡e pÅ™ipojit. Knihovny na
propojenÃ­ byly vyvÃ­jeny izolovanÄ›, aby bylo moÅ¾nÃ© je pouÅ¾Ã­t univerzÃ¡lnÄ›.


\section{Na stranÄ› serveru}


\subsection{Popis rozÅ¡Ã­Å™enÃ­}

RozÅ¡Ã­Å™enÃ­ pro Nette otevÃ­rÃ¡ API aplikace tak, aby ho bylo moÅ¾nÃ© pouÅ¾Ã­t
pro jiÅ¾ existujÃ­cÃ­ aplikaci, kterÃ¡ s veÅ™ejnÃ½m API od zaÄÃ¡tku nepoÄÃ­tala.
Je tÅ™eba vyÅ™eÅ¡it, jak aplikace poznÃ¡, Å¾e na stranÄ› klienta je mobilnÃ­
aplikace a takÃ© to, jak aplikaci poslat potÅ™ebnÃ¡ data. Na druhÃ© stranÄ›
klient musÃ­ data nÄ›jakÃ½m zpÅ¯sobem pÅ™eÄÃ­st a zpracovat, aby je mohla
dÃ¡le prezentovat uÅ¾ivateli.

Nette aplikace poznÃ¡, Å¾e klientem je mobilnÃ­ aplikace tak, Å¾e jednÃ­m
z parametrÅ¯ GET poÅ¾adavku je parametr \emph{mobile }s hodnotou \emph{1}.
Presenter se pak pÅ™i vytvÃ¡Å™enÃ­ odpovÄ›di Å™Ã­dÃ­ hodnotou promÄ›nnÃ© \emph{mobile}.
Ta musÃ­ bÃ½t nastavena jako perzistentnÃ­ (pÅ™enÃ¡Å¡Ã­ se mezi odkazy automaticky),
aby se zachovala jejÃ­ hodnota i pÅ™i pÅ™Ã­padnÃ©m pÅ™esmÄ›rovÃ¡nÃ­ na stranÄ›
serveru.

DÃ¡le je nutnÃ© vyÅ™eÅ¡it, jakÃ¡ data se budou klientovi posÃ­lat. Implementace
je navrÅ¾ena tak, aby mobilnÃ­ aplikace nahradila pouze vrstvu View
(z MVC), tedy aby mÄ›la za Ãºkol pouze zobrazovat jiÅ¾ pÅ™ipravenÃ¡ data.
CÃ­lem je tedy zachovat funkce modelÅ¯ i presenterÅ¯ a pouze nahradit
funkci \emph{latte} Å¡ablon. Toho lze nejsnÃ¡ze docÃ­lit tak, Å¾e se v
Å¾ivotnÃ­m cyklu presenteru najde mÃ­sto, kterÃ© se nachÃ¡zÃ­ tÄ›snÄ› pÅ™ed
vykreslenÃ­m strÃ¡nky a mÃ­sto samotnÃ©ho vykreslenÃ­ pomocÃ­ Å¡ablon se
vÅ¡echny promÄ›nnÃ© nastavenÃ© Å¡ablonÄ› (\emph{}\inputencoding{latin2}\lstinline[language=PHP]!$template->getParameters()!\inputencoding{utf8})
vypÃ­Å¡Ã­ ve zvolenÃ©m pÅ™enosovÃ©m formÃ¡tu na vÃ½stup. V praxi je ale nutnÃ©
vypsat promÄ›nnÃ© vÅ¡ech Å¡ablon - Å¡ablony presenteru a k tomu jeÅ¡tÄ› Å¡ablon
vÅ¡ech vytvoÅ™enÃ½ch komponent. Ono hledanÃ© mÃ­sto ,,tÄ›snÄ› pÅ™ed vykreslenÃ­m''
nenÃ­ mÃ­stem v presenteru, ale aÅ¾ v instanci tÅ™Ã­dy implementujÃ­cÃ­ \emph{IPresenterResponse},
protoÅ¾e aÅ¾ tam probÄ›hnou metody \emph{render()} vÅ¡ech pouÅ¾itÃ½ch komponent,
ve kterÃ½ch se obvykle Å¡ablony plnÃ­ promÄ›nnÃ½mi. Z toho dÅ¯vodu bylo
v implementaci potÅ™eba vytvoÅ™it vlastnÃ­ objekt implementujÃ­cÃ­ \emph{IPresenterResponse},
kterÃ½ vÅ¡echny komponenty a presenter projde a promÄ›nnÃ© posbÃ­rÃ¡.

CelÃ½m tÃ­mto procesem se otevÅ™e API aplikace, kterÃ© poslÃ©ze funguje
podle pravidel architektury REST s vÃ½jimkou pÅ™Ã­padnÃ©ho pÅ™enÃ¡Å¡enÃ­ Cookies
(zÃ¡leÅ¾Ã­ na implementaci webovÃ© aplikace).


\subsection{Instalace rozÅ¡Ã­Å™enÃ­}

Instalace na stranÄ› serveru je cÃ­lenÄ› velmi jednoduchÃ¡. Je potÅ™eba
pouze aby vÅ¡echny presentery aplikace byly potomky tÅ™Ã­dy \emph{AndroidettePresenter},
tedy standardnÄ› staÄÃ­ aby se potomkem stala pouÅ¾itÃ¡ tÅ™Ã­da \emph{BasePresenter}.
RozÅ¡Ã­Å™enÃ­ umoÅ¾Åˆuje pÅ™ed odeslÃ¡nÃ­m strukturu dat profiltrovat, tedy
odstranit konkrÃ©tnÃ­ data, u kterÃ½ch nenÃ­ potÅ™eba, nebo je dokonce
neÅ¾Ã¡doucÃ­ aby se pÅ™enÃ¡Å¡ela (napÅ™Ã­klad hesla uÅ¾ivatelÅ¯, kterÃ¡ sice
do Å¡ablony v objektu uÅ¾ivatele odesÃ­lÃ¡me, ale pÅ™i pÅ™enosu do mobilnÃ­
aplikace je odesÃ­lÃ¡nÃ­ neÅ¾Ã¡doucÃ­ a nepotÅ™ebnÃ©). Toho lze docÃ­lit pÅ™edefinovÃ¡nÃ­m
metody \emph{processAndroidVariables()}, kterÃ¡ zÃ­skÃ¡ data v parametru
a vracÃ­ ta profiltrovanÃ¡.

DruhÃ½m poÅ¾adavkem je pouÅ¾itÃ­ speciÃ¡lnÃ­ Routy v routovÃ¡nÃ­ aplikace.
V souboru \emph{bootstrap.php} se musÃ­ k definovÃ¡nÃ­ routovÃ¡nÃ­ pÅ™idat
Å™Ã¡dek:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=PHP]
 $router[] = new AndroidetteRoute('courselist:homepage');
\end{lstlisting}
\inputencoding{utf8}

Routa musÃ­ bÃ½t na takovÃ© pozici, aby byla vÅ¾dy dosaÅ¾itelnÃ¡ a zÃ¡roveÅˆ
nekolidovala s tÄ›mi jiÅ¾ existujÃ­cÃ­mi.

NynÃ­ je integrace dokonÄena a aplikace jiÅ¾ dokÃ¡Å¾e posÃ­lat klientovi
ve strojovÄ› ÄitelnÃ© formÄ›. SamozÅ™ejmÄ› jen pokud je GET parametr \emph{mobile}
nastaven na hodnotu \emph{1}. Jinak se aplikace chovÃ¡ stejnÄ› jako
doposud. 

V pÅ™Ã­padÄ› potÅ™eby zabezpeÄenÃ­ API je nutnÃ© nÄ›jakÃ½m zpÅ¯sobem autentizovat
klienta. NapÅ™Ã­klad pomocÃ­ API klÃ­Äe - presenteru se nastavÃ­ tajnÃ½
Å™etÄ›zec (API klÃ­Ä) a ten je pak poÅ¾adovÃ¡n jako souÄÃ¡st kaÅ¾dÃ©ho poÅ¾adavku
(klient musÃ­ Å™etÄ›zec znÃ¡t a v kaÅ¾dÃ©m dotazu ho posÃ­lat napÅ™. jako
GET parametr).


\section{FormÃ¡t pÅ™enosu dat}

DÅ¯leÅ¾itÃ½m krokem je vÃ½bÄ›r formÃ¡tu pÅ™enosu dat. Pokud je webovÃ¡ aplikace
naprogramovanÃ¡ v jazyce PHP a mobilnÃ­ aplikace v jazyce Java, vÃ½chozÃ­
knihovny umoÅ¾ÅˆujÃ­ jednoduÅ¡Ã­ prÃ¡ci s formÃ¡tem JSON. 

Na stranÄ› PHP je implementace jednoduchÃ¡, pomocÃ­ standardnÃ­ch funkcÃ­
\emph{}\inputencoding{latin2}\lstinline[language=PHP]!json_encode()!\inputencoding{utf8}
a \emph{}\inputencoding{latin2}\lstinline[language=PHP]!json_decode()!\inputencoding{utf8}
lze snadno pÅ™evÃ©st jakÃ©koliv pole nebo objekt do formÃ¡tu JSON a naopak.
PÅ™Ã­prava dat k odeslÃ¡nÃ­ je tedy prakticky vÅ¾dy otÃ¡zkou jednoho Å™Ã¡dku
kÃ³du.

Na stranÄ› mobilnÃ­ho zaÅ™Ã­zenÃ­, pÅ™i programovÃ¡nÃ­ v jazyce Java, je situace
sloÅ¾itÄ›jÅ¡Ã­. ProblÃ©m je zpÅ¯soben odliÅ¡nÃ½m charakterem programovacÃ­ch
jazykÅ¯ PHP a Java. PHP jako skriptovacÃ­ jazyk podporuje libovolnou
strukturu pole - napÅ™Ã­klad asociativnÃ­ pole. V poli tedy mÅ¯Å¾e bÃ½t
klÃ­Äem i Å™etÄ›zec a hodnotou mÅ¯Å¾e bÃ½t v podstatÄ› cokoliv. PÅ™i zpÄ›tnÃ©
kompozici pole nebo objektu v JavÄ› nastÃ¡vÃ¡ problÃ©m, kterÃ½m je nutnost
typovÃ¡nÃ­ promÄ›nnÃ½ch. Obsah pole se musÃ­ interpretovat ruÄnÄ›. Je nutnÃ©
vÄ›dÄ›t jakÃ©ho typu jsou hodnoty polÃ­. 

ZpracovÃ¡nÃ­ JSON dat v JavÄ› Å™eÅ¡Ã­ standardnÃ­ knihovna \emph{org.json}.
Ta nabÃ­zÃ­ sadu tÅ™Ã­d pro kompletnÃ­ prÃ¡ci s JSON daty. NejdÅ¯leÅ¾itÄ›jÅ¡Ã­
jsou tÅ™Ã­dy \emph{JSONObject }a \emph{JSONArray}. PouÅ¾Ã­vajÃ­ se podle
charakteru ÄtenÃ½ch dat. Pokud se jednÃ¡ o klasickÃ© pole, pouÅ¾ijeme
objekt \emph{JSONArray}. Pokud jde o asociativnÃ­ pole nebo objekt,
vyuÅ¾ijeme objekt \emph{JSONObject}. PÅ™es \emph{JSONArray} lze iterovat
a vybÃ­rat data, z konkrÃ©tnÃ­ pozice v poli. Z objektu \emph{JSONObject}
lze vybÃ­rat data podle klÃ­Äe ve formÄ› Å™etÄ›zce. Data zÃ­skÃ¡vÃ¡me dostupnÃ½mi
metodami - mÅ¯Å¾eme zÃ­skat zÃ¡kladnÃ­ primitivnÃ­ typy (\emph{int, String,
boolean, double,} atd.) a nebo rekurzivnÄ› \emph{JSONArray }nebo \emph{JSONObject}.

PÅ™Ã­klad pouÅ¾itÃ­:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=Java]
...

// precteme vstupni data (String) jako JSONArray
JSONArray auta = new JSONArray(vstupni_data_json);

// precteme prvni zaznam jako JSONObject
JSONObject prvniAuto = auta.getJSONObject(1);

// vybereme vlastnost "motor" ve vlastnosti "parametry"
// jako JSONObject
JSONObject motor = prvniAuto.getJSONObject("parametry")
					.getJSONObject("motor");

// zjistime spotrebu auta (typ double)
double spotreba = motor.getDouble("spotreba");

...
\end{lstlisting}
\inputencoding{utf8}


\section{Na stranÄ› klienta}

Knihovna \emph{cz.kinst.jakub.androidette} mÃ¡ za cÃ­l implementovat
klientskÃ© pÅ™ipojenÃ­ Android aplikace k Nette aplikaci s nainstalovanÃ½m
vÃ½Å¡e zmÃ­nÄ›nÃ½m rozÅ¡Ã­Å™enÃ­m. SnaÅ¾Ã­ se vÃ½vojÃ¡Å™i co nejvÃ­ce usnadnit prÃ¡ci
a zÃ¡roveÅˆ zachovat obecnost Å™eÅ¡enÃ­, kterÃ¡ je klÃ­ÄovÃ¡ pro moÅ¾nost aplikovÃ¡nÃ­
na jakoukoliv Nette aplikaci.

Implementace se sestÃ¡vÃ¡ z nÄ›kolika vrstev. NejniÅ¾Å¡Ã­ vrstva je implementovanÃ¡
tÅ™Ã­dou \emph{HttpSmartClient}. Ta pÅ™edevÅ¡Ã­m pomocÃ­ standardnÃ­ knihovny
\emph{org.apache.http} Å™eÅ¡Ã­ vytvÃ¡Å™enÃ­ HTTP poÅ¾adavkÅ¯ (\emph{HttpRequest})
na server a zÃ­skÃ¡vÃ¡nÃ­ (zatÃ­m nijak neinterpretovanÃ½ch) textovÃ½ch dat
z jeho odpovÄ›dÃ­. MetodÃ¡m vyÅ¡Å¡Ã­ vrstvy pÅ™edÃ¡vajÃ­ URL cÃ­le, GET parametry,
POST parametry a pÅ™Ã­padnÄ› takÃ© pÅ™iloÅ¾enÃ© soubory (pro pÅ™Ã­pad nahrÃ¡vÃ¡nÃ­
souborÅ¯ na server). Klient dokÃ¡Å¾e z pÅ™ijatÃ½ch odpovÄ›dÃ­ zÃ­skÃ¡vat HTTP
Cookies z hlaviÄek \emph{Set-Cookie}, uloÅ¾it je do pamÄ›ti a v dalÅ¡Ã­ch
poÅ¾adavcÃ­ch Cookies odesÃ­lat na server v hlaviÄkÃ¡ch \emph{Cookie}.
Pokud je potÅ™eba, umÃ­ klient zÃ­skat ze serveru i libovolnÃ½ soubor
- tedy binÃ¡rnÃ­ data. TÅ™Ã­da \emph{HttpSmartClient }implementuje i moÅ¾nost
pÅ™ipojenÃ­ k zabezpeÄenÃ©mu serveru pomocÃ­ technologie HTTPS.

DalÅ¡Ã­ vrstvu implementuje tÅ™Ã­da \emph{AndroidetteJSONClient}. Ta mÃ¡
za Ãºkol interpretaci dat zÃ­skanÃ½ch ze serveru. PÅ™ijatÃ¡ textovÃ¡ data
konvertuje do objektu \emph{JSONObject}, kterÃ½ postupuje do vyÅ¡Å¡Ã­ch
vrstev. KromÄ› toho tÅ™Ã­da identifikuje speciÃ¡lnÃ­ ÄÃ¡sti zÃ­skanÃ½ch dat.
UloÅ¾Ã­ tzv. Flash zprÃ¡vy (informaÄnÃ­ zprÃ¡vy pro uÅ¾ivatele pouÅ¾Ã­vanÃ©
v Nette aplikacÃ­ch) a takÃ© speciÃ¡lnÃ­ zprÃ¡vy \emph{\_\_error} a \emph{\_\_dump}.
Ty slouÅ¾Ã­ k zaznamenÃ¡vÃ¡nÃ­ chyb a ladÃ­cÃ­ch informacÃ­. VÃ½vojÃ¡Å™ mÅ¯Å¾e
z Nette aplikace naplnit tyto speciÃ¡lnÃ­ zprÃ¡vy, kterÃ© potÃ© \emph{AndroidetteJSONClient}
automaticky vypÃ­Å¡e do standardnÃ­ logovacÃ­ konzole (Android LogCat).

NejvyÅ¡Å¡Ã­ vrstva (tÅ™Ã­da \emph{AndroidetteConnector}) uÅ¾ implementuje
abstrahovanÃ© pÅ™ipojenÃ­ ke konkrÃ©tnÃ­ Nette aplikaci. Je potÅ™eba jÃ­
nastavit koÅ™enovou URL aplikace na serveru a potÃ© jiÅ¾ lze vyuÅ¾Ã­vat
jejÃ­ch veÅ™ejnÃ½ch metod. Tyto metody nabÃ­zejÃ­ zÃ­skÃ¡nÃ­ dat z konkrÃ©tnÃ­ch
akcÃ­ konkrÃ©tnÃ­ch presenterÅ¯, odeslÃ¡nÃ­ formulÃ¡Å™e na jistÃ© akci presenteru
nebo odeslÃ¡nÃ­ signÃ¡lu na presenteru. MetodÃ¡m lze poskytnout dodateÄnÃ©
parametry (GET nebo POST), popÅ™Ã­padÄ› soubory k odeslÃ¡nÃ­ na server.
Metody vracejÃ­ odpovÄ›Ä serveru ve formÃ¡tu \emph{JSONObject}, ze kterÃ©ho
lze zÃ­skÃ¡vat konkrÃ©tnÃ­ data promÄ›nnÃ½ch Å¡ablon.

PrÃ¡ce s webovou aplikacÃ­ potom mÅ¯Å¾e vypadat tak jednoduÅ¡e jako nÃ¡sledujÃ­cÃ­
pÅ™Ã­klad:

\inputencoding{latin2}\begin{lstlisting}[breaklines=true,language=Java]
...

AndroidetteConnector mojeAplikace = new AndroidetteConnector("http://example.com");

ArrayList<NameValuePair> getArgs = new ArrayList<NameValuePair>();
getArgs.add(new BasicNameValuePair("id","123"));

// ziskame data akce "detail" presenteru "product" s parametrem id=123
JSONObject product = mojeAplikace.getAction("product","detail",getArgs,null);

double cena = product.getDouble("price");

...
\end{lstlisting}
\inputencoding{utf8}Pokud je potÅ™eba chovÃ¡nÃ­ upravit, staÄÃ­ tÅ™Ã­du \emph{AndroidettePresenter
}podÄ›dit a upravit k potÅ™ebÃ¡m konkrÃ©tnÃ­ aplikace - napÅ™Ã­klad vyÅ™eÅ¡it
pÅ™ihlÃ¡Å¡enÃ­ pÅ™ed prvnÃ­m dotazem na server a podobnÄ›.


\chapter{Architektura implementace mobilnÃ­ aplikace}

MobilnÃ­ aplikace je implementovÃ¡na standardnÄ› pomocÃ­ nÄ›kolika potomkÅ¯
tÅ™Ã­dy \emph{Activity} (dÃ¡le aktivity). Zpravidla kaÅ¾dÃ¡ aktivita (nÄ›kdy
vÃ­ce aktivit) implementuje jeden z modulÅ¯ jak jsou popsanÃ© v ArchitektuÅ™e
implementace webovÃ© aplikace. Aktivity tvoÅ™Ã­ urÄitou strukturu, podle
kterÃ© se mezi nimi Å™Ã­dÃ­ navigace. 

KaÅ¾dÃ¡ z aktivit je potomkem tÅ™Ã­dy \emph{CMActivity} kterÃ¡ slouÅ¾Ã­ jako
jakÃ¡si Å¡ablona. DÃ­ky tomu majÃ­ vÅ¡echny aktivity definovanou jednu
hlavnÃ­ Ãºlohu, kterÃ¡ probÄ›hne vÅ¾dy po zobrazenÃ­ a takÃ© pokud uÅ¾ivatel
v menu stiskne tlaÄÃ­tko Refresh (Obnovit). Typicky jde o staÅ¾enÃ­ dat
z webovÃ©ho protÄ›jÅ¡ku a jejich prezentace (zobrazenÃ­ na displeji).
TÅ™Ã­da \emph{CMActivity }je potomkem tÅ™Ã­dy \emph{TabbedActivity}, kterÃ¡
jÃ­ umoÅ¾Åˆuje rozdÄ›lit na nÄ›kolik zÃ¡loÅ¾ek, mezi kterÃ½mi lze pÅ™epÃ­nat.
Lze tedy zobrazit vÃ­ce informacÃ­ (podstrÃ¡nek) v rÃ¡mci jednÃ© aktivity. 

DÃ¡le si dÃ­ky \emph{CMActivity }aktivity udrÅ¾ujÃ­ objekt, pomocÃ­ kterÃ©ho
zÃ­skÃ¡vajÃ­ data z webovÃ© aplikace. Tento objekt je potomkem tÅ™Ã­dy \emph{AndroidetteConnector},
kterÃ¡ je popsÃ¡na v ArchitektuÅ™e implementace propojenÃ­ s mobilnÃ­ aplikacÃ­.
Potomkem je proto, Å¾e musÃ­ obstarÃ¡vat jeÅ¡tÄ› dalÅ¡Ã­ procesy, kterÃ© pÅ™edchÅ¯dce
neimplementuje. Jde napÅ™Ã­klad o zajiÅ¡tÄ›nÃ­ pÅ™ihlÃ¡Å¡enÃ­ uÅ¾ivatele - pÅ™ed
prvnÃ­m poÅ¾adavkem na server je potÅ™eba ve webovÃ© aplikaci odeslat
pÅ™ihlaÅ¡ovacÃ­ formulÃ¡Å™ se sprÃ¡vnÃ½mi Ãºdaji. TÃ­m je uÅ¾ivatel pÅ™ihlÃ¡Å¡en
a dÃ­ky pouÅ¾itÃ­ Cookies ho nenÃ­ potÅ™eba pÅ™ihlaÅ¡ovat pÅ™i dalÅ¡Ã­ch poÅ¾adavcÃ­ch.
PotÃ© jiÅ¾ staÄÃ­ v kaÅ¾dÃ© aktivitÄ› stÃ¡hnout data z odpovÃ­dajÃ­cÃ­ akce
na odpovÃ­dajÃ­cÃ­m presenteru a ty vhodnÃ½m zpÅ¯sobem prezentovat - napÅ™Ã­klad
naplnit daty \emph{ListView} (seznam poloÅ¾ek). Pokud je naopak potÅ™eba
nÄ›jakÃ¡ data odeslat, v definici uÅ¾ivatelskÃ©ho rozhranÃ­ se vytvoÅ™Ã­
formulÃ¡Å™ a jeho data se potom poÅ¡lou na server pomocÃ­ POST poÅ¾adavku
- jako odeslÃ¡nÃ­ HTML formulÃ¡Å™e.

Aplikace kromÄ› pÅ™ipojenÃ­ k internetu od uÅ¾ivatele nevyÅ¾aduje Å¾Ã¡dnÃ¡
zvlÃ¡Å¡tnÃ­ oprÃ¡vnÄ›nÃ­.


\chapter{UÅ¾ivatelskÃ¡ dokumentace}


\section{WebovÃ¡ aplikace}


\subsection{MinimÃ¡lnÃ­ poÅ¾adavky}


\subsubsection{Provoz aplikace}

Aplikace nenÃ­ vÃ¡zanÃ¡ na Å¾Ã¡dnou konkrÃ©tnÃ­ platformu, jelikoÅ¾ potÅ™ebnÃ½
software je dostupnÃ½ pro vÄ›tÅ¡inu vyuÅ¾Ã­vanÃ½ch operaÄnÃ­ch systÃ©mÅ¯ vÄetnÄ›
\emph{OS\nomenclature{OS}{OperaÄnÃ­ systÃ©m} Linux}, \emph{Microsoft
Windows }a \emph{Mac OS.} 

Pro provoz aplikace je potÅ™eba mÃ­t nainstalovanÃ½ nÃ¡sledujÃ­cÃ­ software:
\begin{itemize}
\item webovÃ½ server s podporou \emph{OpenSSL (napÅ™Ã­klad Apache}\cite{apache}\emph{)}
\item \emph{PHP}\cite{php}(verze alespoÅˆ 5.2)
\item \emph{MySQL}\cite{mysql}(verze alespoÅˆ 5.5)
\item libovolnÃ½ plÃ¡novaÄ procesÅ¯ (napÅ™Ã­klad program \emph{cron})
\end{itemize}

\subsubsection{PouÅ¾itÃ­ aplikace}

K pouÅ¾itÃ­ uÅ¾ivateli staÄÃ­ bÄ›Å¾nÃ½ webovÃ½ prohlÃ­Å¾eÄ. Aplikace je optimalizovÃ¡na
pro prohlÃ­Å¾eÄ \emph{Google Chrome, Mozilla Firefox a Microsoft Internet
Explorer 7 }a vyÅ¡Å¡Ã­.


\subsection{Instalace aplikace}

K nainstalovÃ¡nÃ­ aplikace staÄÃ­ nÃ¡sledovat nÃ¡sledujÃ­cÃ­ pokyny:
\begin{enumerate}
\item ZkopÃ­rovat obsah adresÃ¡Å™e \emph{CourseManager }do vÃ½chozÃ­ sloÅ¾ky webovÃ©ho
serveru (typicky sloÅ¾ka \emph{htdocs})
\item Pokud jde o UNIXovÃ½ operaÄnÃ­ systÃ©m, je potÅ™eba nastavit oprÃ¡vnÄ›nÃ­
pro nÃ¡sledujÃ­cÃ­ sloÅ¾ky na hodnotu \emph{777}

\begin{itemize}
\item \emph{/temp}
\item \emph{/document\_root/webtemp}
\item \emph{/log}
\item \emph{/uploads}
\end{itemize}
\item VytvoÅ™it na serveru databÃ¡zi s nÃ¡zvem \emph{course-manager }urÄenou
pro aplikaci
\item Nastavit pÅ™Ã­stupovÃ© Ãºdaje k databÃ¡zi v souboru \emph{/app/config.neon}
\item Nastavit pÅ™Ã­stupovÃ© Ãºdaje k libovolnÃ©mu SMTP serveru k odesÃ­lÃ¡nÃ­ oznÃ¡menÃ­
e-mailem v souboru \emph{/app/config.neon}
\item VytvoÅ™it zÃ¡kladnÃ­ databÃ¡zovÃ© schÃ©ma v MySQL databÃ¡zi spuÅ¡tÄ›nÃ­m skriptu
\emph{/db/CourseManager.sql}
\item Nakonfigurovat plÃ¡novaÄ Ãºloh aby spouÅ¡tÄ›l HTTP GET poÅ¾adavky na nÃ¡sledujÃ­cÃ­
URL

\begin{itemize}
\item \emph{\url{URL/document_root/cron/sendemailsew5q3n825ml6bm2btz81}}
(kaÅ¾dou minutu)
\item \emph{\url{URL/document_root/cron/deleteuncheckedusersew5q3n825ml6bm2btz81}
}(kaÅ¾dÃ½ den)
\item \emph{\url{URL/document_root/cron/sendassignmentnotificationsew5q3n825ml6bm2btz81}}
(kaÅ¾dÃ½ den)
\item \emph{\url{URL/document_root/cron/deleteoldtempfilesew5q3n825ml6bm2btz81}
}(kaÅ¾dÃ½ den)
\end{itemize}

Å˜etÄ›zec \emph{URL }je potÅ™eba nahradit koÅ™enovou URL provozovanÃ© aplikace

\item PÅ™Ã­padnÄ› upravit soubory \emph{.htaccess} dle konkrÃ©tnÃ­ konfigurace
serveru tak, aby fungovalo routovÃ¡nÃ­
\end{enumerate}

\subsection{SpuÅ¡tÄ›nÃ­ aplikace}

Webovou aplikaci CourseManager lze spustit ve webovÃ©m prohlÃ­Å¾eÄi pÅ™echodem
na adresu aplikace. Po instalaci na lokÃ¡lnÃ­ webovÃ½ server se jednÃ¡
typicky o adresu \url{http://localhost/slozka_aplikace/document_root}.
WebovÃ¡ aplikace je ale takÃ© veÅ™ejnÄ› dostupnÃ¡ a funkÄnÃ­ na adrese \url{http://rp-jakub-cz.dc.starver.net}.


\subsection{VÃ½chozÃ­ strÃ¡nka, registrace uÅ¾ivatele a pÅ™ihlÃ¡Å¡enÃ­ do aplikace}

VÃ½chozÃ­ strÃ¡nka nabÃ­zÃ­ zÃ¡kladnÃ­ informace o aplikaci a vyzÃ½vÃ¡ uÅ¾ivatele
k registraci, popÅ™Ã­padÄ› k pÅ™ihlÃ¡Å¡enÃ­. AnonymnÃ­ uÅ¾ivatel mÃ¡ prÃ¡vo zobrazit
pouze tuto strÃ¡nku a strÃ¡nku s uÅ¾ivatelskÃ½m manuÃ¡lem.

KliknutÃ­m na tlaÄÃ­tko PÅ™ihlÃ¡Å¡enÃ­ (Login) se rozbalÃ­ nabÃ­dka pro pÅ™ihlÃ¡Å¡enÃ­
spoleÄnÄ› s odkazem na strÃ¡nku registrace uÅ¾ivatele.

Aplikace pÅ™i registraci poÅ¾aduje po uÅ¾ivateli jmÃ©no, pÅ™Ã­jmenÃ­, uÅ¾ivatelskÃ©
jmÃ©no ve formÄ› e-mailovÃ© adresy a heslo o minimÃ¡lnÃ­ dÃ©lce 5 znakÅ¯,
kterÃ© musÃ­ uÅ¾ivatel z bezpeÄnostnÃ­ch dÅ¯vodÅ¯ zadat dvakrÃ¡t.

Po odeslÃ¡nÃ­ registraÄnÃ­ho formulÃ¡Å™e je do nÄ›kolika minut uÅ¾ivateli
odeslÃ¡n potvrzujÃ­cÃ­ e-mail s odkazem, po jehoÅ¾ navÅ¡tÃ­venÃ­ potvrdÃ­
vlastnictvÃ­ zadanÃ© e-mailovÃ© adresy. 

Od chvÃ­le potvrzenÃ­ adresy je uÅ¾ivateli umoÅ¾nÄ›no pÅ™ihlÃ¡Å¡enÃ­ do aplikace
prostÅ™ednictvÃ­m pÅ™ihlaÅ¡ovacÃ­ho formulÃ¡Å™e. Po pÅ™ihlÃ¡Å¡enÃ­ je uÅ¾ivatel
pÅ™esmÄ›rovÃ¡n na strÃ¡nku zobrazujÃ­cÃ­ kurzy ve kterÃ½ch je v roli uÄitele
a kurzy, ve kterÃ½ch je v roli studenta. 


\subsection{ZaklÃ¡dÃ¡nÃ­ novÃ©ho kurzu a pozvÃ¡nÃ­ studentÅ¯}

NovÃ½ kurz mÅ¯Å¾e pÅ™ihlÃ¡Å¡enÃ½ uÅ¾ivatel vytvoÅ™it kliknutÃ­m na tlaÄÃ­tko
PÅ™idat kurz (Add Course). Kurzu je potÅ™eba pÅ™iÅ™adit nÃ¡zev a krÃ¡tkÃ½
popisek.

UÅ¾ivatel, kterÃ½ kurz zaloÅ¾il, automaticky zÃ­skÃ¡vÃ¡ v kurzu roli uÄitele.
Po vytvoÅ™enÃ­ je pÅ™esmÄ›rovÃ¡n na domÃ¡cÃ­ strÃ¡nku kurzu, kterÃ¡ obsahuje
seznam uÄitelÅ¯, seznam studentÅ¯, nadchÃ¡zejÃ­cÃ­ udÃ¡losti a pÅ™edevÅ¡Ã­m
seznam lekcÃ­ kurzu.

Po zaloÅ¾enÃ­ kurzu na Å™adu pÅ™ichÃ¡zÃ­ rozeslÃ¡nÃ­ pozvÃ¡nek studentÅ¯m. KliknutÃ­m
na tlaÄÃ­tko Pozvat studenty (Invite students) se uÄiteli zobrazÃ­ strÃ¡nka,
kde mÅ¯Å¾e postupnÄ› zadÃ¡vat e-mailovÃ© adresy, kterÃ© zÃ­skal od studentÅ¯.
KaÅ¾dÃ½ takto pozvanÃ½ student obdrÅ¾Ã­ e-mail s pozvÃ¡nkou do kurzu. Pokud
je jiÅ¾ v systÃ©mu zaregistrovÃ¡n, staÄÃ­ na domovskÃ© obrazovce akceptovat
pozvÃ¡nku. V opaÄnÃ©m pÅ™Ã­padÄ› musÃ­ nejdÅ™Ã­ve projÃ­t procesem registrace(musÃ­
jako uÅ¾ivatelskÃ© jmÃ©no pouÅ¾Ã­t e-mailovou adresu, na kterou pÅ™iÅ¡la
pozvÃ¡nka) a aÅ¾ potÃ© je mu rovnÄ›Å¾ na domovskÃ© strÃ¡nce zobrazena pozvÃ¡nka. 


\subsection{Seznam lekcÃ­ a detail lekce}

DomovskÃ¡ strÃ¡nka kurzu mimo jinÃ© obsahuje pÅ™edevÅ¡Ã­m seznam vÅ¡ech lekcÃ­
seÅ™azenÃ½ tak, aby nejnovÄ›jÅ¡Ã­ lekce byly vypsÃ¡ny jako prvnÃ­. PÅ™i otevÅ™enÃ­
strÃ¡nky jsou vÅ¡echny lekce kromÄ› nejnovÄ›jÅ¡Ã­ zobrazeny v ÃºspornÃ© podobÄ›,
lekci lze â€œrozbalitâ€ kliknutÃ­m na jejÃ­ titulek. KdyÅ¾ je rozbalena,
jsou zobrazeny zÃ¡kladnÃ­ informace jako titulek lekce, obsah lekce
a odkaz na zobrazenÃ­ detailu lekce.

Detail lekce zobrazuje kompletnÃ­ data o lekci vÄetnÄ› pÅ™iloÅ¾enÃ½ch souborÅ¯,
komentÃ¡Å™Å¯ studentÅ¯ i uÄitelÅ¯ a formulÃ¡Å™e pro pÅ™idÃ¡nÃ­ novÃ©ho komentÃ¡Å™e.

UÅ¾ivatel v roli uÄitele mÅ¯Å¾e navÃ­c upravit atributy kurzu, pÅ™idÃ¡vat
a mÄ›nit obsah lekcÃ­. PÅ™i pÅ™idÃ¡vÃ¡nÃ­ lekce mÅ¯Å¾e uÄitel formÃ¡tovat obsah
pomocÃ­ systÃ©mu Texy\cite{texy}, kterÃ½ umoÅ¾Åˆuje pÅ™idÃ¡vat nadpisy nÄ›kolika
ÃºrovnÃ­, obrÃ¡zky, hypertextovÃ© odkazy, ÄÃ­slovanÃ© i neÄÃ­slovanÃ© seznamy,
formÃ¡tovanÃ© zdrojovÃ© kÃ³dy nebo emotikony a dalÅ¡Ã­. VÃ­ce informacÃ­ o
syntaxi viz. odkaz vÃ½Å¡e. Kdykoliv bÄ›hem vytvÃ¡Å™enÃ­ obsahu lze kliknout
na tlaÄÃ­tko NÃ¡hled (Preview) a nechat si zobrazit obsah zformÃ¡tovanÃ½
tak, jak bude ve vÃ½sledku vypadat.

K jednotlivÃ½m lekcÃ­m mÅ¯Å¾e uÄitel takÃ© nahrÃ¡vat soubory, kterÃ© chce
studentÅ¯m poskytnout ke staÅ¾enÃ­, pÅ™edevÅ¡Ã­m studijnÃ­ materiÃ¡ly. PomocÃ­
tlaÄÃ­tek + a - nejdÅ™Ã­ve zvolÃ­ poÄet souborÅ¯ a potÃ© je vybere ze svÃ©ho
poÄÃ­taÄe. Po odeslÃ¡nÃ­ formulÃ¡Å™e jsou soubory nahrÃ¡ny.

PoslednÃ­ vÃ½sadou role uÄitele je moÅ¾nost uÄinit kohokoliv ze studentÅ¯
uÄitelem. Pokud je tedy v praxi potÅ™eba vÃ­ce uÄitelÅ¯ na jeden kurz,
musÃ­ jeden z nich kurz vytvoÅ™it a ostatnÃ­ nejdÅ™Ã­ve pozvat jako studenty
a nÃ¡slednÄ› je povÃ½Å¡it do role uÄitele. 


\subsection{VÃ½sledky (Results) }

StrÃ¡nka s vÃ½sledky zobrazuje studentÅ¯m jejich prÅ¯bÄ›Å¾nÃ© vÃ½sledky. Sjednocuje
vÃ½sledky klasickÃ½ch (offline) testÅ¯/ÃºkolÅ¯, kterÃ© uÄitel zadÃ¡ ruÄnÄ›,
dÃ¡le online ÃºkolÅ¯, kterÃ© uÄitel vyvÄ›sÃ­ v systÃ©mu a nechÃ¡ uÅ¾ivatele
odevzdat svÃ¡ Å™eÅ¡enÃ­, kterÃ¡ nÃ¡slednÄ› opravÃ­ a nakonec takÃ© online Ãºkoly,
kterÃ© se dokÃ¡Å¾Ã­ podle zadanÃ½ch sprÃ¡vnÃ½ch odpovÄ›dÃ­ opravit samy.

VÃ½sledky jsou rozdÄ›leny podle toho, zda je jejich ohodnocenÃ­m poÄet
bodÅ¯ nebo znÃ¡mka na stupnici 1-5. Podle toho je napravo tabulky takÃ©
vypsÃ¡n buÄ souÄet bodÅ¯ nebo aritmetickÃ½ prÅ¯mÄ›r znÃ¡mek.

UÄitel zde mÅ¯Å¾e pÅ™idÃ¡vat klasickÃ½(offline) Ãºkol, kterÃ©mu pÅ™iÅ™adÃ­ jmÃ©no,
typ(body/znÃ¡mky) a dÃ¡le rovnou ohodnotÃ­ vÅ¡echny studenty v kurzu. 


\subsection{Ãškoly/Testy (Assignments)}

Jednou ze stÄ›Å¾ejnÃ­ch ÄÃ¡stÃ­ aplikace je moÅ¾nost zadÃ¡vat studentÅ¯m online
domÃ¡cÃ­ Ãºkoly nebo testy. UÄitel mÅ¯Å¾e jednoduÅ¡e vytvoÅ™it Ãºkol, nastavit
mu datum, kdy se Ãºkol stane pÅ™Ã­stupnÃ½m pro Å™eÅ¡enÃ­, datum, do kdy bude
pÅ™Ã­stupnÃ½ pro Å™eÅ¡enÃ­ a volitelnÄ› mÅ¯Å¾e takÃ© nastavit, jak dlouho mÅ¯Å¾e
student strÃ¡vit vyplÅˆovÃ¡nÃ­m Ãºkolu (tÃ­m se z Ãºkolu v podstatÄ› stÃ¡vÃ¡
test).

Po vyplnÄ›nÃ­ ÃºdajÅ¯ o Ãºkolu nastÃ¡vÃ¡ fÃ¡ze tvoÅ™enÃ­ formulÃ¡Å™e pro zadÃ¡vÃ¡nÃ­
odpovÄ›dÃ­. UÄitel mÃ¡ k dispozici nÄ›kolik moÅ¾nostÃ­, jak od studentÅ¯
zÃ­skat odpovÄ›Ä. 
\begin{itemize}
\item KrÃ¡tkÃ½ text (Text input) - umoÅ¾Åˆuje zadat krÃ¡tkÃ½ text jako odpovÄ›Ä
na otÃ¡zku 
\item DlouhÃ½ text (Text area) - umoÅ¾Åˆuje zadat komplexnÄ›jÅ¡Ã­ odpovÄ›Ä na otÃ¡zku 
\item JednoduchÃ½ vÃ½bÄ›r z moÅ¾nostÃ­ (Radio list) - umoÅ¾Åˆuje vybrat jednu z
pÅ™edem nabÃ­dnutÃ½ch odpovÄ›dÃ­ 
\item VÃ½bÄ›r podmnoÅ¾iny z moÅ¾nostÃ­ (Multiselect list) - lze vybrat libovolnou
podmnoÅ¾inu z pÅ™edem nabÃ­dnutÃ½ch odpovÄ›dÃ­ 
\item NahrÃ¡nÃ­ souboru (File upload) - lze nahrÃ¡t jakÃ½koliv soubor s Å™eÅ¡enÃ­m
\end{itemize}
Ãškol mÅ¯Å¾e pÅ™edstavovat libovolnou kombinaci tÄ›chto prvkÅ¯. KaÅ¾dÃ©mu
prvku je potÅ™eba nastavit popisek - nejÄastÄ›ji otÃ¡zky, kterou mÃ¡ student
zodpovÄ›dÄ›t. UÄitel mÅ¯Å¾e strukturu Ãºkolu kdykoliv zmÄ›nit.

Pokud je jiÅ¾ Ãºkol ,,otevÅ™enÃ½'', mÅ¯Å¾ou ho studenti zaÄÃ­t kdykoliv
Å™eÅ¡it aÅ¾ do uzÃ¡vÄ›rky. V pÅ™Ã­padÄ›, Å¾e uÄitel nastavil maximÃ¡lnÃ­ dobu
Å™eÅ¡enÃ­, je student s touto skuteÄnostÃ­ obeznÃ¡men a jakmile stiskne
tlaÄÃ­tko Å˜eÅ¡it (Solve), zaÄÃ­nÃ¡ tato lhÅ¯ta bÄ›Å¾et. Aplikace si zapamatuje,
kdy s Å™eÅ¡enÃ­m zaÄal (pro pÅ™Ã­pad zavÅ™enÃ­ okna prohlÃ­Å¾eÄe, odhlÃ¡Å¡enÃ­
atd. )a po danÃ©m ÄasovÃ©m Ãºseku jiÅ¾ nenÃ­ moÅ¾nÃ© Ãºkol Å™eÅ¡it. Pokud se
stane, Å¾e uÅ¾ivatel Å™eÅ¡Ã­ Ãºkol v tÄ›snÃ© blÃ­zkosti uzÃ¡vÄ›rky, zobrazÃ­ se
mu na strÃ¡nce odpoÄet Äasu. Po uplynutÃ­ lhÅ¯ty bude formulÃ¡Å™ automaticky
odeslÃ¡n v aktuÃ¡lnÃ­m stavu.

UÄitel mÅ¯Å¾e kdykoliv zaÄÃ­t opravovat Å™eÅ¡enÃ­ studentÅ¯, kteÅ™Ã­ ho jiÅ¾
odevzdali. PÅ™i opravovÃ¡nÃ­ se vytvoÅ™Ã­ tabulka, kde sloupce reprezentujÃ­
otÃ¡zky v Ãºkolu a Å™Ã¡dky odpovÄ›di jednotlivÃ½ch studentÅ¯. Na konci kaÅ¾dÃ©ho
Å™Ã¡dku je mÃ­sto na vloÅ¾enÃ­ bodovÃ©ho ohodnocenÃ­. VÃ½sledky se automaticky
zapÃ­Å¡Ã­ do tabulky VÃ½sledky.

Pokud to Ãºkol umoÅ¾Åˆuje, mÅ¯Å¾e ho uÄitel vytvoÅ™it jako samoopravnÃ½ (Auto-correct).
To znamenÃ¡, Å¾e pÅ™i vytvÃ¡Å™enÃ­ struktury nastavÃ­ pro kaÅ¾dou otÃ¡zku i
sprÃ¡vnou odpovÄ›Ä, nastavÃ­ pro Ãºkol maximÃ¡lnÃ­ moÅ¾nÃ½ poÄet bodÅ¯ a aplikace
podle odpovÄ›dÃ­ studenta sama spoÄÃ­tÃ¡ kolika procent, potaÅ¾mo bodÅ¯
zÃ­skÃ¡vÃ¡.

KvÅ¯li automatickÃ©mu vyhodnocovÃ¡nÃ­ ÃºkolÅ¯ nenÃ­ moÅ¾nÃ© nabÃ­dnout pÅ™i vytvÃ¡Å™enÃ­
Ãºkolu vÅ¡echny komponenty jako v klasickÃ©m online Ãºkolu. Do samoopravnÃ©ho
Ãºkolu nelze pÅ™idat komponentu pro dlouhÃ½ text a nahrÃ¡vÃ¡nÃ­ souborÅ¯. 


\subsection{Zdroje/Dokumenty}

Tato sekce sdruÅ¾uje materiÃ¡ly poskytnutÃ© studentÅ¯m ke staÅ¾enÃ­. NejÄastÄ›ji
se jednÃ¡ o rÅ¯znÃ© studijnÃ­ materiÃ¡ly. Tyto dokumenty vÅ¡ak nejsou vÃ¡zÃ¡ny
na konkrÃ©tnÃ­ lekci, nÃ½brÅ¾ pouze na kurz. UÄitel soubory nahrÃ¡vÃ¡ stejnÃ½m
zpÅ¯sobem jako pÅ™i nahrÃ¡vÃ¡nÃ­ souborÅ¯ k lekci. 


\subsection{FÃ³rum}

KaÅ¾dÃ½ kurz mÃ¡ k dispozici jednoduchÃ© diskuznÃ­ fÃ³rum, kterÃ© mÃ¡ za cÃ­l
usnadnit komunikaci mezi studenty, popÅ™Ã­padÄ› lektory. Na rozdÃ­l od
soukromÃ© komunikace mezi studenty je komunikace v diskuznÃ­m fÃ³ru dostupnÃ¡
vÅ¡em ostatnÃ­m studentÅ¯m. TudÃ­Å¾ mÅ¯Å¾e napÅ™Ã­klad Å™eÅ¡enÃ­ nÄ›jakÃ©ho problÃ©mu
poslouÅ¾it i ostatnÃ­m. FÃ³rum se sklÃ¡dÃ¡ z TÃ©mat (Topics), kterÃ¡ jsou
vypsÃ¡na na vÃ½chozÃ­ strÃ¡nce a uspoÅ™Ã¡dÃ¡na dle data poslednÃ­ reakce na
tÃ©ma. UÅ¾ivatel vytvÃ¡Å™Ã­ tÃ©ma, kterÃ© symbolizuje vlÃ¡kno, ve kterÃ©m probÃ­hÃ¡
diskuze. Po kliknutÃ­ na tÃ©ma se zobrazÃ­ odpovÄ›di (replies) na tÃ©ma
seÅ™azenÃ© dle data pÅ™idÃ¡nÃ­. Zde mohou uÅ¾ivatelÃ© kurzu prostÅ™ednictvÃ­m
jednoduchÃ©ho formulÃ¡Å™e na pÅ™idÃ¡vÃ¡nÃ­ odpovÄ›dÃ­ na danÃ© tÃ©ma diskutovat. 


\subsection{UdÃ¡losti}

UÄitelÃ© mohou ke kurzu pÅ™idat libovolnou udÃ¡lost, kterÃ¡ je definovanÃ¡
nÃ¡zvem, krÃ¡tkÃ½m popisem a datem. UdÃ¡losti naplÃ¡novanÃ© na nadchÃ¡zejÃ­cÃ­ch
10 dnÃ­ jsou zobrazeny na hlavnÃ­ strÃ¡nce kurzu, ostatnÃ­ udÃ¡losti lze
nalÃ©zt na strÃ¡nce udÃ¡losti. Zde jsou zobrazeny v kalendÃ¡Å™i, kterÃ½
mÃ¡ nÄ›kolik moÅ¾nostÃ­ zobrazenÃ­. Lze ho zobrazit jako dennÃ­ kalendÃ¡Å™,
tÃ½dennÃ­ nebo mÄ›sÃ­ÄnÃ­. KliknutÃ­ na udÃ¡lost v kalendÃ¡Å™i vyvolÃ¡ zobrazenÃ­
detailu udÃ¡losti.

UÄitel mÅ¯Å¾e udÃ¡losti jednoduÅ¡e pomocÃ­ formulÃ¡Å™e pÅ™idÃ¡vat, popÅ™Ã­padÄ›
existujÃ­cÃ­ v jejich detailu mÄ›nit. 


\subsection{ZprÃ¡vy}

Aby bylo moÅ¾nÃ© komunikovat s ostatnÃ­mi ÃºÄastnÃ­ky kurzu takÃ© soukromÄ›,
poskytuje aplikace systÃ©m zasÃ­lÃ¡nÃ­ soukromÃ½ch zprÃ¡v. HlavnÃ­ obrazovky
zprÃ¡v mÅ¯Å¾e uÅ¾ivatel zobrazit kliknutÃ­m na ikonu zprÃ¡vy v hornÃ­m fixnÃ­m
menu. ZobrazÃ­ se seznam pÅ™Ã­chozÃ­ch zprÃ¡v.

KliknutÃ­m na tlaÄÃ­tko NovÃ¡ zprÃ¡va (New message) lze vytvoÅ™it a nÃ¡slednÄ›
odeslat novou zprÃ¡vu.

KaÅ¾dÃ¡ zprÃ¡va je identifikovÃ¡na odesÃ­latelem, pÅ™Ã­jemcem (oba ve formÄ›
uÅ¾ivatelskÃ©ho jmÃ©na - e-mailovÃ© adresy), pÅ™edmÄ›tem a obsahem zprÃ¡vy
- podobnÄ› jako u e-mailovÃ© komunikace.

Na zprÃ¡vy lze jednoduÅ¡e odpovÃ­dat tak, Å¾e je pÅ¯vodnÃ­ zprÃ¡va v odpovÄ›di
citovÃ¡na. 


\subsection{UÅ¾ivatelskÃ½ profil}

UÅ¾ivatelskÃ½ profil je osobnÃ­ profilovÃ¡ strÃ¡nka, kterÃ¡ shrnuje data
o uÅ¾ivateli - jeho jmÃ©no, pÅ™Ã­jmenÃ­, e-mailovou adresu nebo adresu
webovÃ© strÃ¡nky. UÅ¾ivatel mÃ¡ prÃ¡vo svÅ¯j profil kdykoliv upravit. 


\subsection{OznÃ¡menÃ­ e-mailem}

Aplikace umoÅ¾Åˆuje automatickÃ© rozesÃ­lÃ¡nÃ­ e-mailovÃ½ch oznÃ¡menÃ­ v pÅ™edem
danÃ½ Äas. NapÅ™Ã­klad po pÅ™idÃ¡nÃ­ online Ãºkolu v modulu Ãškoly (Assignments)
jsou automaticky obeslÃ¡ni vÅ¡ichni studenti kurzu a jsou obeznÃ¡meni
s novÃ½m Ãºkolem. DÃ¡le si kaÅ¾dÃ½ uÅ¾ivatel mÅ¯Å¾e v NastavenÃ­ zvolit jak
dlouho pÅ™ed uzÃ¡vÄ›rkou Ãºkolu mÃ¡ bÃ½t na uzÃ¡vÄ›rku upozornÄ›n. 


\subsection{NastavenÃ­}

Tato strÃ¡nka umoÅ¾Åˆuje uÅ¾ivateli mÄ›nit svÃ© preference. Lze nastavit
preferovanÃ½ jazyk aplikace, kterÃ½ bude aplikovÃ¡n po kaÅ¾dÃ©m uÅ¾ivatelskÃ©m
pÅ™ihlÃ¡Å¡enÃ­, dÃ¡le to, zda bude pro ostatnÃ­ uÅ¾ivatele viditelnÃ¡ e-mailovÃ¡
adresa a takÃ© lze nastavit kolik dnÃ­ pÅ™edem bude uÅ¾ivatel upozornÄ›n
na blÃ­Å¾Ã­cÃ­ se uzÃ¡vÄ›rku online Ãºkolu.


\section{MobilnÃ­ aplikace}


\subsection{MinimÃ¡lnÃ­ poÅ¾adavky}

Aplikace je urÄena a vyvÃ­jena pro mobilnÃ­ zaÅ™Ã­zenÃ­ se systÃ©mem Android\cite{android}ve
verzi 2.1 (Eclair), avÅ¡ak pravdÄ›podobnÄ› bude z velkÃ© ÄÃ¡sti fungovat
i na starÅ¡Ã­ch zaÅ™Ã­zenÃ­ch se starÅ¡Ã­ verzÃ­ systÃ©mu. TestovÃ¡nÃ­ probÄ›hlo
na mobilnÃ­ch telefonech se systÃ©mem verze 2.1, 2.2, 2.3 a 4.0. Aplikace
vyÅ¾aduje pÅ™ipojenÃ­ zaÅ™Ã­zenÃ­ k internetu.


\subsection{Instalace a spuÅ¡tÄ›nÃ­ aplikace}

Aplikaci lze nainstalovat na zaÅ™Ã­zenÃ­ standardnÃ­m zpÅ¯sobem pomocÃ­
instalaÄnÃ­ho balÃ­Äku APK%
\footnote{APK, aplication package file%
}. Soubor s pÅ™Ã­ponou .apk je potÅ™eba nakopÃ­rovat do zaÅ™Ã­zenÃ­ a tam
spustit. ProbÄ›hne standardnÃ­ instalace aplikace a zÃ¡stupce s titulkem
\emph{CourseManager} se objevÃ­ v seznamu nainstalovanÃ½ch aplikacÃ­.
KliknutÃ­m na zÃ¡stupce aplikace se aplikace spustÃ­ a zobrazÃ­ se vÃ½chozÃ­
obrazovka.


\subsection{VÃ½chozÃ­ obrazovka a pÅ™ihlÃ¡Å¡enÃ­ do aplikace}

Po prvnÃ­m spuÅ¡tÄ›nÃ­ je pro sprÃ¡vnÃ© fungovÃ¡nÃ­ potÅ™eba aplikaci nakonfigurovat.
StisknutÃ­m standardnÃ­ho tlaÄÃ­tka MENU se zobrazÃ­ nabÃ­dka, ve kterÃ©
lze vyvolat obrazovku NastavenÃ­. V nastavenÃ­ je nutnÃ© nejdÅ™Ã­ve nastavit
adresu bÄ›Å¾Ã­cÃ­ instance webovÃ© aplikace CourseManager - tedy napÅ™Ã­klad
\url{http://rp-jakub-cz.dc.starver.net}. DÃ¡le musÃ­ uÅ¾ivatel vyplnit
pÅ™ihlaÅ¡ovacÃ­ Ãºdaje - e-mailovou adresu a heslo. 

Po nÃ¡vratu na vÃ½chozÃ­ obrazovku by uÅ¾ aplikace mÄ›la bÃ½t ÃºspÄ›Å¡nÄ› pÅ™ipojena
na webovÃ½ protÄ›jÅ¡ek a zobrazovat seznam uÅ¾ivatelskÃ½ch kurzÅ¯ - nejdÅ™Ã­ve
kurzy, kterÃ© uÄÃ­ a potÃ© kurzy, kterÃ© studuje. Po kliknutÃ­ na jeden
z kurzÅ¯ se zobrazÃ­ jeho detailnÃ­ strÃ¡nka s dalÅ¡Ã­mi moÅ¾nostmi navigace.
V nabÃ­dce je v tuto chvÃ­li kromÄ› nastavenÃ­ jeÅ¡tÄ› pÅ™Ã­stup k soukromÃ½m
zprÃ¡vÃ¡m uÅ¾ivatele.


\subsection{Detail kurzu}

StrÃ¡nka kurzu nabÃ­zÃ­ stejnÄ› jako webovÃ¡ verze seznam jednotlivÃ½ch
lekcÃ­, kterÃ© jsou seÅ™azeny podle jejich data. Po rozbalenÃ­ lekce a
kliknutÃ­ na tlaÄÃ­tko \emph{VÃ­ce} bude zobrazen detail tÃ©to konkrÃ©tnÃ­
lekce.

DÅ¯leÅ¾itÃ¡ je ale v tuto chvÃ­li nabÃ­dka, kterÃ¡ obsahuje odkazy na vÅ¡echny
moduly tÃ½kajÃ­cÃ­ se tohoto kurzu. UÅ¾ivatel si mÅ¯Å¾e nechat zobrazit
DiskuznÃ­ fÃ³rum kurzu, UdÃ¡losti kurzu, VÃ½sledky studentÅ¯, Ãškoly (Assignments)
a Zdroje (Resources).


\subsection{Detail lekce}

DetailnÃ­ strÃ¡nka konkrÃ©tnÃ­ lekce je rozdÄ›lena pomocÃ­ zÃ¡loÅ¾ek na dvÄ›
ÄÃ¡sti. V prvnÃ­ zÃ¡loÅ¾ce se nachÃ¡zejÃ­ komentÃ¡Å™e k lekci. UÅ¾ivatelÃ© zde
mohou lekci libovolnÄ› komentovat. NovÃ½ komentÃ¡Å™ se pÅ™idÃ¡ pomocÃ­ poloÅ¾ky
v nabÃ­dce menu. Ve druhÃ© zÃ¡loÅ¾ce jsou vypsÃ¡ny soubory, kterÃ© uÄitel
k lekci pÅ™idal. Po kliknutÃ­ na poloÅ¾ku je soubor staÅ¾en do zaÅ™Ã­zenÃ­
a pokud je to moÅ¾nÃ©, je otevÅ™en v pÅ™Ã­sluÅ¡nÃ© aplikaci. StaÅ¾enÃ© soubory
se uklÃ¡dajÃ­ do sloÅ¾ky \texttt{CourseManager\_downloads}.


\subsection{DiskuznÃ­ fÃ³rum}

MobilnÃ­ aplikace nabÃ­zÃ­ kompletnÃ­ moÅ¾nost diskuze ve fÃ³ru - tedy zaklÃ¡dÃ¡nÃ­
novÃ½ch tÃ©mat diskuze, vÃ½pis odpovÄ›dÃ­ a pÅ™idÃ¡vÃ¡nÃ­ novÃ½ch odpovÄ›dÃ­.


\subsection{UdÃ¡losti}

Obrazovka udÃ¡lostÃ­ nabÃ­zÃ­ prostÃ½ vÃ½pis nejbliÅ¾Å¡Ã­ch udÃ¡lostÃ­ kurzu.
PÅ™i dlouhÃ©m kliknutÃ­ na poloÅ¾ku udÃ¡losti se zobrazÃ­ kontextovÃ¡ nabÃ­dka
s moÅ¾nostÃ­ vloÅ¾enÃ­ udÃ¡losti do kalendÃ¡Å™e v zaÅ™Ã­zenÃ­. OtevÅ™e se dialogovÃ©
okno s pÅ™edvyplnÄ›nÃ½mi detaily udÃ¡losti a po potvrzenÃ­ se udÃ¡lost uloÅ¾Ã­
do vÃ½chozÃ­ho kalendÃ¡Å™e ve vÃ½chozÃ­ aplikaci KalendÃ¡Å™ systÃ©mu Android.


\subsection{VÃ½sledky}

Na obrazovce VÃ½sledky je k dispozici pÅ™ehlednÃ¡ tabulka, kde sloupce
pÅ™edstavujÃ­ jednotlivÃ© Ãºkoly/testy a Å™Ã¡dky odpovÃ­dajÃ­ konkrÃ©tnÃ­m studentÅ¯m
kurzu. Tabulka je rozdÄ›lena na dvÄ› ÄÃ¡sti - Ãºkoly/testy ohodnocenÃ©
body a Ãºkoly/testy ohodnocenÃ© znÃ¡mkou. Na konci tabulky je pÅ™Ã­sluÅ¡nÃ©mu
studentovi vypoÄÃ­tÃ¡n souÄet bodÅ¯, respektive aritmetickÃ½ prÅ¯mÄ›r znÃ¡mek.


\subsection{Ãškoly/Testy (Assignments)}

VÃ½chozÃ­ obrazovka Ãškoly vypisuje vÅ¡echny Ãºkoly/testy kurzu pod sebou.
PÅ™i kliknutÃ­ na poloÅ¾ku se zobrazÃ­ detail, kde jsou moÅ¾nÃ© dvÄ› akce
v zÃ¡vislosti na roli uÅ¾ivatele. 

Pokud je uÅ¾ivatel v roli studenta, mÅ¯Å¾e Ãºkol/test vyÅ™eÅ¡it pÅ™Ã­mo na
mobilnÃ­m zaÅ™Ã­zenÃ­. Aplikace podporuje klasickÃ© i samoopravnÃ© testy,
s ÄasovÃ½m omezenÃ­m i bez nÄ›ho. Å˜eÅ¡enÃ­ probÃ­hÃ¡ stejnÄ› jako ve webovÃ©
verzi - pomocÃ­ standardnÃ­ch formulÃ¡Å™ovÃ½ch prvkÅ¯ zadÃ¡vÃ¡ Å™eÅ¡itel svÃ©
odpovÄ›di a nÃ¡slednÄ› Å™eÅ¡enÃ­ odeÅ¡le pÅ™Ã­sluÅ¡nÃ½m tlaÄÃ­tkem. V hornÃ­ ÄÃ¡sti
obrazovky je zobrazen zbÃ½vajÃ­cÃ­ Äas pro Å™eÅ¡enÃ­ testu.

Pokud je uÅ¾ivatel v roli uÄitele, nemÅ¯Å¾e Ãºkol/test Å™eÅ¡it, ale mÅ¯Å¾e
opravovat jiÅ¾ odevzdanÃ¡ Å™eÅ¡enÃ­. PomocÃ­ tabulky jsou mu zobrazeny jednotlivÃ©
odpovÄ›di studentÅ¯ a vzÃ¡pÄ›tÃ­ pole pro vloÅ¾enÃ­ poÄtu zÃ­skanÃ½ch bodÅ¯.


\subsection{Zdroje (Resources)}

Tento modul nabÃ­zÃ­ vÃ½pis souborÅ¯, kterÃ© nejsou pÅ™iÅ™azeny ke konkrÃ©tnÃ­
lekci, ale k celÃ©mu kurzu. StejnÄ› jako u souborÅ¯ lekce staÄÃ­ kliknout
na poloÅ¾ku a soubor se stÃ¡hne/otevÅ™e.


\subsection{ZprÃ¡vy}

MobilnÃ­ verze, stejnÄ› jako ta webovÃ¡, umoÅ¾Åˆuje kompletnÃ­ komunikaci
mezi uÅ¾ivateli aplikace pomocÃ­ systÃ©mu soukromÃ½ch zprÃ¡v. Modul ZprÃ¡vy
je rozdÄ›len do dvou zÃ¡loÅ¾ek - DoruÄenÃ© zprÃ¡vy a OdeslanÃ© zprÃ¡vy. PomocÃ­
menu je moÅ¾nÃ© vytvoÅ™it a nÃ¡slednÄ› odeslat zprÃ¡vu novou. SamozÅ™ejmÄ›
lze i na pÅ™Ã­chozÃ­ zprÃ¡vy jednoduÅ¡e odpovÃ­dat.


\chapter{ZÃ¡vÄ›r}

ImplementacÃ­ prÃ¡ce bylo dosaÅ¾eno vÅ¡ech zadanÃ½ch cÃ­lÅ¯. VÃ½sledkem je
webovÃ¡ aplikace, kterÃ¡ dokÃ¡Å¾e usnadnit prÃ¡ci a uÅ¡etÅ™it Äas jak lektorÅ¯m,
tak i studentÅ¯m. NabÃ­zÃ­ nÄ›kolik moÅ¾nostÃ­ komunikace - soupis lekcÃ­,
komentÃ¡Å™e pod lekcemi, diskuznÃ­ fÃ³rum, kalendÃ¡Å™ akcÃ­, posÃ­lÃ¡nÃ­ soukromÃ½ch
zprÃ¡v a zÃ¡roveÅˆ i umoÅ¾Åˆuje studenty testovat, nebo je nechat, aby
si sami lÃ¡tku procviÄili pomocÃ­ online ÃºkolÅ¯.

SplnÄ›n byl i cÃ­l vytvoÅ™it k webovÃ© sluÅ¾bÄ› pÅ™Ã­sluÅ¡nou mobilnÃ­ aplikaci,
kterÃ¡ umoÅ¾nÃ­ vÄ›tÅ¡inu sluÅ¾eb vyuÅ¾Ã­vat z pohodlÃ­ mobilnÃ­ho zaÅ™Ã­zenÃ­.
Byla implementovÃ¡na nativnÃ­ aplikace pro mobilnÃ­ platformu Google
Android, kterÃ¡ pomocÃ­ pÅ™ipojenÃ­ na server nabÃ­zÃ­ tÃ©mÄ›Å™ stejnÃ© moÅ¾nosti
jako jejÃ­ webovÃ½ protÄ›jÅ¡ek. 

SouÄÃ¡stÃ­ prÃ¡ce je i samostatnÄ› a univerzÃ¡lnÄ› pouÅ¾itelnÃ© rozhranÃ­ pro
propojenÃ­ jiÅ¾ existujÃ­cÃ­ webovÃ© aplikace (Nette Framework) s aplikacÃ­
mobilnÃ­ (Google Android). PomocÃ­ nÄ›ho lze prakticky bez zÃ¡sahu do
stÃ¡vajÃ­cÃ­ho kÃ³du zpÅ™Ã­stupnit ovlÃ¡dÃ¡nÃ­ aplikace z klientskÃ© aplikace
v mobilnÃ­m zaÅ™Ã­zenÃ­ a nabÃ­dnout tak klientÅ¯m pohodlnÃ© rozhranÃ­ pro
vyuÅ¾itÃ­ sluÅ¾eb na cestÃ¡ch. SpojovacÃ­ rozhranÃ­ se sklÃ¡dÃ¡ z rozÅ¡Ã­Å™enÃ­
pro Nette Framework, kterÃ© zajistÃ­ otevÅ™enÃ­ API aplikace a takÃ© z
pohodlnÃ©ho klienta pro Android SDK, kterÃ½ umoÅ¾nÃ­ se k takovÃ© aplikaci
jednoduÅ¡e pÅ™ipojit.

ObÄ› aplikace je pochopitelnÄ› moÅ¾nÃ© dÃ¡le rozÅ¡iÅ™ovat a vylepÅ¡ovat. NabÃ­zÃ­
se nÄ›kolik rÅ¯znÃ½ch moÅ¾nostÃ­. Lze pÅ™idÃ¡vat dalÅ¡Ã­ funkce, kterÃ© usnadnÃ­
prÃ¡ci lektorÅ¯m nebo studentÅ¯m. KupÅ™Ã­kladu je moÅ¾nÃ© vytvoÅ™it systÃ©m,
pomocÃ­ kterÃ©ho by se ÄlenovÃ© kurzu mohli spoleÄnÄ› dohodnout na termÃ­nu
libovolnÃ© udÃ¡losti tak, aby vyhovoval co nejvÃ­ce z nich. DalÅ¡Ã­ moÅ¾nostÃ­
je napÅ™Ã­klad implementace oficiÃ¡lnÃ­ch oznÃ¡menÃ­ - uÄitel vydÃ¡ oznÃ¡menÃ­
a studenti jsou nuceni oznÃ¡menÃ­ vzÃ­t na vÄ›domÃ­, pÅ™iÄemÅ¾ uÄitel vÃ­,
kolik studentÅ¯ jiÅ¾ oznÃ¡menÃ­ na vÄ›domÃ­ vzalo. RozÅ¡Ã­Å™it by se daly i
moÅ¾nosti oznÃ¡menÃ­ (notifikacÃ­) - na blÃ­Å¾Ã­cÃ­ se udÃ¡losti, novÃ© pÅ™Ã­spÄ›vky
ve fÃ³ru a podobnÄ›.


\chapter{PÅ™Ã­lohy}

PÅ™iloÅ¾enÃ© CD obsahuje nÃ¡sledujÃ­cÃ­ sloÅ¾ky:
\begin{description}
\item [{web\_app\_sources}] zdrojovÃ© kÃ³dy webovÃ© aplikace
\item [{android\_app\_sources}] zdrojovÃ© kÃ³dy mobilnÃ­ aplikace pro Android
\item [{doc/android\_app\_javadoc}] programÃ¡torskÃ¡ dokumentace webovÃ© aplikace
\item [{doc/web\_app\_phpdoc}] programÃ¡torskÃ¡ dokumentace mobilnÃ­ aplikace
pro Android
\item [{androidette/androidette\_nette\_extension}] zdrojovÃ© kÃ³dy rozÅ¡Ã­Å™enÃ­
pro Nette Framework k zpÅ™Ã­stupnÄ›nÃ­ API
\item [{androidette/androidette\_android\_library}] knihovna pro Android
umoÅ¾ÅˆujÃ­cÃ­ pÅ™ipojenÃ­ k Nette aplikaci (Android Library Project)
\item [{text}] text tÃ©to BakalÃ¡Å™skÃ© prÃ¡ce ve formÃ¡tech PDF a PostScript
\end{description}
\begin{sidewaysfigure}
\includegraphics[scale=0.35]{\lyxdot \lyxdot /db/scheme}

\caption{SchÃ©ma databÃ¡zovÃ©ho modelu webovÃ© aplikace. VygenerovÃ¡no programem
\emph{MySQL Workbench}.}


\end{sidewaysfigure}
\label{chap:schemadb}

\settowidth{\nomlabelwidth}{MySQL}
\printnomenclature{}

\newpage{}\bibliographystyle{plain}
\phantomsection\addcontentsline{toc}{chapter}{\bibname}\nocite{*}
\bibliography{bib}

\end{document}
